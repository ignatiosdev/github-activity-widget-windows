{"version":3,"file":"chunk-app_components_primer_experimental_select-panel-element_ts-xxxxxxxxxxxx.js","mappings":"4uCAgBA,IAAMA,EAAiB,CAAC,kBAAkB,CACpCC,EAAoBD,EAAeE,IAAI,CAAC,KACxCC,EAA2BH,EAAeI,GAAG,CAACC,GAAY,CAAC,iBAAiB,EAAEA,EAAS,CAAC,EAAEH,IAAI,CAAC,KAerG,eAAKI,CAAa,E,8FAAbA,C,EAAAA,GAAAA,CAAAA,GAML,WAAKC,CAAc,E,iDAAdA,C,EAAAA,GAAAA,CAAAA,GAOL,IAAMC,EAAoB,CAAC,KACzB,IAAMC,EAAU,IAAIC,IAChBC,EAAwC,KAC5C,SAASC,IACP,IAAK,IAAMC,KAAUJ,EACnBI,EAAOC,oBAAoB,EAE/B,CACA,OAAO,IAELC,OAAOC,gBAAgB,CAAC,SAAUJ,GAElCG,OAAOC,gBAAgB,CAAC,SAAUJ,GAElCD,GAAAA,CAAAA,EAAmB,IAAIM,eAAe,KACpC,IAAK,IAAMJ,KAAUJ,EACnBI,EAAOC,oBAAoB,EAE/B,EAAC,EACDH,EAAeO,OAAO,CAACC,EAAGC,aAAa,CAACC,eAAe,EACvDF,EAAGH,gBAAgB,CAAC,eAAgB,KAClCP,EAAQa,MAAM,CAACH,EACjB,GACAA,EAAGH,gBAAgB,CAAC,cAAe,KACjCP,EAAQc,GAAG,CAACJ,EACd,EACF,CACF,K,IAiBE,cACA,cACA,cACA,cACA,cACA,cACA,cAkMA,cAWA,cAwCA,cAkBA,cAYA,cAOA,cAaA,cAcA,cAQA,cA6GA,cAoBA,cA0CA,cAKA,cA0BA,cAiDA,cAQA,cAmBA,cAKA,cAkBI,cAaA,cAIJ,cAIA,cAYA,cAsBA,cAqEA,cASA,cAUA,cAuBA,eA0CI,eA+FJ,eA76BK,yCAAMK,uCAAuCC,YAsBlD,IAAIC,MAAgB,CAClB,OAAO,IAAI,CAACC,MAAM,CAACD,IAAI,CAGzB,IAAIE,eAA+B,CACjC,OAAO,IAAI,CAACC,YAAY,CAAC,sBAC3B,CAEA,IAAIC,mBAA4B,CAC9B,MAAO,iBAAI,CAACF,aAAa,CAAkB,eAAiB,eAC9D,CAEA,IAAIA,cAAcG,CAAsB,CAAE,CACpCA,EACF,IAAI,CAACC,YAAY,CAAC,sBAAuBD,GAEzC,IAAI,CAACE,eAAe,CAAC,UAEzB,CAEA,IAAIC,oBAA6B,CAC/B,IAAMC,EAAS,IAAI,CAACN,YAAY,CAAC,oCACjC,EACO,CAAC,EAAEM,EAAO,CAAC,CAAC,CADC,EAEtB,CAEA,IAAIC,wBAAiC,CACnC,IAAMD,EAAS,IAAI,CAACN,YAAY,CAAC,yCACjC,EACO,CAAC,EAAEM,EAAO,CAAC,CAAC,CADC,EAEtB,CAEA,IAAID,mBAAmBG,CAAa,CAAE,CACpC,IAAI,CAACL,YAAY,CAAC,qBAAsBK,EAC1C,CAEA,IAAIC,cAAwB,CAC1B,OAAO,IAAI,CAACC,YAAY,CAAC,qBAC3B,CAEA,IAAID,aAAaD,CAAc,CAAE,CAC/B,IAAI,CAACG,eAAe,CAAC,qBAAsBH,EAC7C,CAEA,IAAII,gBAA2C,CAC7C,IAAMC,EAAK,IAAI,CAACC,aAAa,CAAC,WAAWD,GACzC,GAAI,CAACA,EAAI,OAAO,KAChB,IAAK,IAAMvB,KAAM,IAAI,CAACyB,gBAAgB,CAAC,mBACrC,GAAIzB,EAAGU,YAAY,CAAC,mBAAqBa,EACvC,OAAOvB,EAGX,OAAO,IACT,CAEA,IAAI0B,aAAwC,CAC1C,OAAO,IAAI,CAACF,aAAa,CAAC,+BAC5B,CAEA,IAAIG,cAAmC,QACrC,IAAS,CAACL,cAAc,CACjB,IAAI,CAACA,cAAc,CAACE,aAAa,CAAC,iBADR,IAEnC,CAEA,IAAII,eAAgC,CAClC,OAAOC,MAAMC,IAAI,CAAC,MAAI,CAAC,GAAeC,MAAM,GAC9C,CAEA,IAAIC,OAAyB,CAC3B,OAAQ,IAAI,CAACtB,YAAY,CAAC,iBAAmB,OAC/C,CAEA,IAAIuB,MAAmB,CACrB,OAAQ,IAAI,CAACvB,YAAY,CAAC,gBAAkB,gBAC9C,CAEAf,sBAAuB,CAMrB,GAJI,IAAI,EAAI,WAAI,CAACuC,YAAY,EAC3B,IAAI,CAAC1B,MAAM,CAAC2B,KAAK,GAGf,IAAI,CAACb,cAAc,CAAE,CACvB,GAAM,CAACc,IAAAA,CAAG,CAAEC,KAAAA,CAAI,CAAC,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAoB,IAAI,CAAC9B,MAAM,CAAE,IAAI,CAACc,cAAc,CAAE,CACxEU,MAAO,IAAI,CAACA,KAAK,CACjBC,KAAM,IAAI,CAACA,IAAI,CACfM,aAAc,CAChB,EACA,KAAI,CAAC/B,MAAM,CAACgC,KAAK,CAACJ,GAAG,CAAG,CAAC,EAAEA,EAAI,EAAE,CAAC,CAClC,IAAI,CAAC5B,MAAM,CAACgC,KAAK,CAACH,IAAI,CAAG,CAAC,EAAEA,EAAK,EAAE,CAAC,CACpC,IAAI,CAAC7B,MAAM,CAACgC,KAAK,CAACC,MAAM,CAAG,OAC3B,IAAI,CAACjC,MAAM,CAACgC,KAAK,CAACE,KAAK,CAAG,OAC1B,IAAI,CAAClC,MAAM,CAACmC,cAAc,CAAC,CAACC,MAAO,UAAWC,OAAQ,SAAS,EACjE,CACF,CAEAC,mBAAoB,CAClB,GAAM,CAACC,OAAAA,CAAM,CAAC,CAAG,EAAH,KAAS,EAAmB,IAAIC,iBAa9C,GAZA,IAAI,CAACnD,gBAAgB,CAAC,UAAW,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC9C,IAAI,CAAClD,gBAAgB,CAAC,QAAS,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC5C,IAAI,CAAClD,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAChD,IAAI,CAAClD,gBAAgB,CAAC,QAAS,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC5C,IAAI,CAAClD,gBAAgB,CAAC,uBAAwB,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC3D,IAAI,CAAClD,gBAAgB,CAAC,qBAAsB,IAAI,CAAE,CAACkD,OAAAA,CAAM,GACzD,IAAI,CAAClD,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAChD,MAAI,CAAC,WAAL,IAAI,EACJ,MAAI,CAAC,YAAL,IAAI,EACJ,MAAI,CAAC,WAAL,IAAI,EACJ1D,EAAkB,IAAI,EAElB,IAAI,CAAC4D,WAAW,CAClB,IAAI,CAACA,WAAW,CAACpD,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC5D,IAAI,CAACE,WAAW,CAACpD,gBAAgB,CAAC,UAAW,IAAI,CAAE,CAACkD,OAAAA,CAAM,OACrD,CACL,IAAMG,EAAmB,IAAIC,iBAAiB,KACxC,IAAI,CAACF,WAAW,GAClB,IAAI,CAACA,WAAW,CAACpD,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC5D,IAAI,CAACE,WAAW,CAACpD,gBAAgB,CAAC,UAAW,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC1DG,EAAiBE,UAAU,GAE/B,GAEAF,EAAiBnD,OAAO,CAAC,IAAI,CAAE,CAACsD,UAAW,GAAMC,QAAS,EAAI,EAChE,CAEA,GAAI,IAAI,CAACC,eAAe,CACtB,IAAI,CAACA,eAAe,CAAC1D,gBAAgB,CAAC,4BAA6B,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAChF,IAAI,CAACQ,eAAe,CAAC1D,gBAAgB,CAAC,QAAS,IAAI,CAAE,CAACkD,OAAAA,CAAM,OACvD,CACL,IAAMG,EAAmB,IAAIC,iBAAiB,KACxC,IAAI,CAACI,eAAe,GACtB,IAAI,CAACA,eAAe,CAAC1D,gBAAgB,CAAC,4BAA6B,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAChF,IAAI,CAACQ,eAAe,CAAC1D,gBAAgB,CAAC,QAAS,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC5DG,EAAiBE,UAAU,GAE/B,GAEAF,EAAiBnD,OAAO,CAAC,IAAI,CAAE,CAACsD,UAAW,GAAMC,QAAS,EAAI,EAChE,CAEA,GAAI,IAAI,CAACL,WAAW,CAClB,IAAI,CAACA,WAAW,CAACpD,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAACkD,OAAAA,CAAM,OACvD,CACL,IAAMG,EAAmB,IAAIC,iBAAiB,KACxC,IAAI,CAACF,WAAW,GAClB,IAAI,CAACA,WAAW,CAACpD,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAACkD,OAAAA,CAAM,GAC5DG,EAAiBE,UAAU,GAE/B,GAEAF,EAAiBnD,OAAO,CAAC,IAAI,CAAE,CAACsD,UAAW,GAAMC,QAAS,EAAI,EAChE,CAeA,G,OAbK,EAA8B,IAAIE,qBAAqBC,IAC1D,IAAK,IAAMC,KAASD,EAAS,CAC3B,IAAME,EAAOD,EAAME,MAAM,CACrBF,EAAMG,cAAc,EAAIF,IAAS,IAAI,CAACnD,MAAM,GAC9C,IAAI,CAACb,oBAAoB,GAEhB,IAAL,MAAI,CAAC,IACP,MAAI,CAAC,WAAL,IAAI,EAGV,CACF,IAEI,IAAI,CAACa,MAAM,CACkC,SAA3C,IAAI,CAACE,YAAY,CAAC,sBACpB,MAAI,CAAC,WAAL,IAAI,EAGN,MAAI,CAAC,GAA4BX,OAAO,CAAC,IAAI,CAACS,MAAM,MAC/C,CACL,IAAM0C,EAAmB,IAAIC,iBAAiB,KACxC,IAAI,CAAC3C,MAAM,GACkC,SAA3C,IAAI,CAACE,YAAY,CAAC,sBACpB,MAAI,CAAC,WAAL,IAAI,EAGN,MAAI,CAAC,GAA4BX,OAAO,CAAC,IAAI,CAACS,MAAM,EACpD0C,EAAiBE,UAAU,GAE/B,GAEAF,EAAiBnD,OAAO,CAAC,IAAI,CAAE,CAACsD,UAAW,GAAMC,QAAS,EAAI,EAChE,CACF,CAEAQ,sBAAuB,CACrB,MAAI,CAAC,GAAiBC,KAAK,EAC7B,CA0IAC,YAAYC,CAAY,CAAE,CACxB,GAAIA,EAAML,MAAM,GAAK,IAAI,CAACM,oBAAoB,CAAE,CAC9C,MAAI,CAAC,WAAL,IAAI,CAAyBD,GAC7B,MACF,CAEA,GAAIA,EAAML,MAAM,GAAK,IAAI,CAACX,WAAW,CAAE,CACrC,MAAI,CAAC,WAAL,IAAI,CAAyBgB,GAC7B,MACF,CAEA,IAAME,EAAkB,IAAI,CAAC7C,cAAc,EAAE8C,SAASH,EAAML,MAAM,EAC5DS,EAAsB,IAAI,CAAC3C,WAAW,EAAE0C,SAASH,EAAML,MAAM,EAC7DU,EAAoB,MAAI,CAAC,WAAL,IAAI,CAAeL,GAE7C,GAAIE,GAAmBF,cAAAA,EAAMM,IAAI,EAI7BN,cAAAA,EAAMM,IAAI,EAAoBN,EAAML,MAAM,YAAYY,iBAHxD,OASF,GAAIP,cAAAA,EAAMM,IAAI,CAAkB,CAC9BN,EAAMQ,cAAc,GACpB,MACF,CAEA,GAAIN,GAAmBG,EAAmB,CACxC,MAAI,CAAC,WAAL,IAAI,CAAyBL,GAC7B,MACF,CAEA,GAAII,GAAuBC,EAEzB,OAGF,IAAMI,EAAO,EAAOd,MAAM,CAAae,OAAO,CAAC3F,IAA2B4F,cAO1E,GAAIC,MAFiBH,GAEDJ,EAAmB,CACrC,GAAI,MAAI,CAAC,WAAL,IAAI,CAAgCL,GAAQ,OAEhD,IAAMa,EAAgBJ,EAAKC,OAAO,CAAC,yBAEnC,GAAIG,EAAe,CACjB,IAAMtE,EAAS,IAAI,CAACP,aAAa,CAAC8E,cAAc,CAACD,EAAcpE,YAAY,CAAC,wBAA0B,IAEtG,GAAIF,GAAU,IAAI,CAAC4D,QAAQ,CAACU,IAAkB,IAAI,CAACV,QAAQ,CAAC5D,GAAS,CACnE,MAAI,CAAC,WAAL,IAAI,CAA4ByD,EAAOzD,GACvC,MACF,CACF,CAII,MAAI,CAAC,WAAL,IAAI,CAA6ByD,KACnCA,EAAMQ,cAAc,GACpB,MAAI,CAAC,YAAL,IAAI,CAAiBC,IAAOM,SAG9B,MAAI,CAAC,WAAL,IAAI,CAAsBN,GAE1B,MACF,CAEA,GAAIT,UAAAA,EAAMM,IAAI,CAAc,CAC1B,IAAMU,EAAO,IAAI,CAACzE,MAAM,CAAC0E,qBAAqB,EAG5CD,CAAAA,EAAK7C,GAAG,EAAI,EAAsB+C,OAAO,EACzC,EAAsBA,OAAO,EAAIF,EAAK7C,GAAG,CAAG6C,EAAKG,MAAM,EACvDH,EAAK5C,IAAI,EAAI,EAAsBgD,OAAO,EAC1C,EAAsBA,OAAO,EAAIJ,EAAK5C,IAAI,CAAG4C,EAAKK,KAAK,EAGvD,MAAI,CAAC,WAAL,IAAI,CAER,CAMIrB,CAAAA,EAAML,MAAM,GAAK,IAAI,CAACL,eAAe,EAAIU,8BAAAA,EAAMM,IAAI,GACrD,MAAI,CAAC,WAAL,IAAI,CAA6BN,EAErC,CAsZA,IAAIsB,cAAkC,CACpC,OAAO1D,MAAMC,IAAI,CAAC,IAAI,CAACL,gBAAgB,CAACzC,IAA2BC,GAAG,CACpEuG,GAAWA,EAAQZ,aAAa,CAEpC,CAEA,IAAIa,OAA2B,CAC7B,OAAO5D,MAAMC,IAAI,CAAC,IAAI,CAACL,gBAAgB,CAAC3C,IAAoBG,GAAG,CAC7DuG,GAAWA,EAAQZ,aAAa,CAEpC,CACA,IAAIc,eAAyC,CAC3C,IAAK,IAAMhB,KAAQ,IAAI,CAACe,KAAK,CAAE,CAC7B,IAAME,EAAc,MAAI,CAAC,YAAL,IAAI,CAAiBjB,GACzC,GAAKiB,GACDA,MAAAA,EAAYjF,YAAY,CAAC,YAC3B,OAAOiF,CAEX,CACF,CAEAC,YAAYC,CAAc,CAA0B,CAClD,OAAO,IAAI,CAACrE,aAAa,CAAC,CAAC,iBAAiB,EAAEqE,EAAO,CAAC,CAAC,CACzD,CAEAC,eAAepB,CAA4B,CAAW,OACpD,EAAIA,GACKA,EAAKqB,SAAS,CAAC3B,QAAQ,CAAC,2BAInC,CAEA4B,YAAYtB,CAA4B,CAAE,CACpCA,IACFA,EAAKqB,SAAS,CAAC3F,GAAG,CAAC,4BACnB,MAAI,CAAC,YAAL,IAAI,CAAiBsE,GAAO7D,YAAY,CAAC,gBAAiB,QAE9D,CAEAoF,WAAWvB,CAA4B,CAAE,CACnCA,IACFA,EAAKqB,SAAS,CAACG,MAAM,CAAC,4BACtB,MAAI,CAAC,YAAL,IAAI,CAAiBxB,GAAO5D,eAAe,CAAC,iBAEhD,CAEAqF,aAAazB,CAA4B,CAAW,OAClD,EAAIA,GACKA,EAAKtD,YAAY,CAAC,SAI7B,CAEAgF,SAAS1B,CAA4B,CAAE,CACjCA,GACFA,EAAK7D,YAAY,CAAC,SAAU,SAEhC,CAEAwF,SAAS3B,CAA4B,CAAE,CACjCA,GACFA,EAAK5D,eAAe,CAAC,SAEzB,CAEAwF,cAAc5B,CAA4B,CAAE,OAC1C,EAAIA,GACK,eAAI,CAAC,YAAL,IAAI,CAAiBA,GAAOhE,YAAY,CAAC,IAAI,CAACC,iBAAiB,CAI1E,CAEA4F,UAAU7B,CAA4B,CAAE,CAClCA,GAAS,gBAAI,CAACjE,aAAa,EAAiB,iBAAI,CAACA,aAAa,GAC5D,CAAC,IAAI,CAAC6F,aAAa,CAAC5B,IACtB,MAAI,CAAC,WAAL,IAAI,CAAsBA,EAGhC,CAEA8B,YAAY9B,CAA4B,CAAE,CACpCA,GAAS,gBAAI,CAACjE,aAAa,EAAiB,iBAAI,CAACA,aAAa,GAC5D,IAAI,CAAC6F,aAAa,CAAC5B,IACrB,MAAI,CAAC,WAAL,IAAI,CAAsBA,EAGhC,C,kBA36BK,YAsNL,UAWA,UAwCA,UAkBA,UAYA,UAOA,UAaA,UAcA,UAQA,UA6GA,UAoBA,UA0CA,UAKA,UA0BA,UAiDA,UAQA,UAmBA,UAKA,UAkBA,OAAI,G,IAAJ,G,aAaA,OAAI,G,IAAJ,G,aAIA,UAIA,UAYA,UAsBA,UAqEA,UASA,UAUA,UAuBA,WA0CA,OAAI,I,IAAJ,G,aA+FA,WA/5BA,U,kBAAA,M,GACA,U,kBAAA,M,GACA,U,kBAAA,M,GACA,U,kBAAA,M,GACA,U,kBAAA,M,GACA,U,kBAAA,M,GACA,U,kBAAA,M,UAJA,EAAiB,WACjB,EAAa,WACb,EAA4C,IAAI+B,KAAAA,EAAAA,IAAAA,CAChD,EAAwC,aACxC,EAA+C,K,CA45BjD,EA1tBE,cACE,GAAM,CAAC1D,OAAAA,CAAM,CAAC,CAAG,MAAI,CAAC,GAEtB,IAAK,IAAM2B,KAAQ,IAAI,CAACjD,gBAAgB,CAAC5C,EAAeE,IAAI,CAAC,MAC3D2F,EAAK7E,gBAAgB,CAAC,QAAS,MAAI,CAAC,MAA+B6G,IAAI,CAAC,IAAI,EAAG,CAAC3D,OAAAA,CAAM,GACtF2B,EAAK7E,gBAAgB,CAAC,UAAW,MAAI,CAAC,MAA+B6G,IAAI,CAAC,IAAI,EAAG,CAAC3D,OAAAA,CAAM,EAE5F,CAIA,cACE,IAAI4D,EAAkB,GAEtB,GAAI,eAAI,CAAClG,aAAa,CACpB,IAAK,IAAMiE,KAAQ,IAAI,CAACe,KAAK,CAAE,CAC7B,IAAME,EAAc,MAAI,CAAC,YAAL,IAAI,CAAiBjB,GACpCiB,IAED,CAAC,IAAI,CAACQ,YAAY,CAACzB,IAAS,IAAI,CAAC4B,aAAa,CAAC5B,IAAS,CAACiC,GAC3DhB,EAAY9E,YAAY,CAAC,WAAY,KACrC8F,EAAkB,IAElBhB,EAAY9E,YAAY,CAAC,WAAY,MAIvC6D,EAAK5D,eAAe,CAAC,YACvB,MAEA,IAAK,IAAM4D,KAAQ,IAAI,CAACe,KAAK,CAAE,CAC7B,IAAME,EAAc,MAAI,CAAC,YAAL,IAAI,CAAiBjB,GACpCiB,IAED,IAAK,CAACQ,YAAY,CAACzB,IAAUiC,EAG/BhB,EAAY9E,YAAY,CAAC,WAAY,MAFrC8F,EAAkB,GAMpBjC,EAAK5D,eAAe,CAAC,YACvB,CAGE,CAAC6F,GAAmB,MAAI,CAAC,KAC3B,MAAI,CAAC,YAAL,IAAI,GAAiB,IAAI,CAAC,MAAa9F,aAAa,WAAY,IAEpE,CAGA,YAA+BoD,CAAY,EACzC,GAAI,CAAC,MAAI,CAAC,WAAL,IAAI,CAAeA,GAAQ,MAAO,GAEvC,IAAMS,EAAO,EAAOd,MAAM,CAAiBe,OAAO,CAAC3F,SACnD,EAAK0F,KAEDA,EAAKhE,YAAY,CAAC,mBACpBuD,EAAMQ,cAAc,GAEpBR,EAAM2C,eAAe,GAErB3C,EAAM4C,wBAAwB,GACvB,GAIX,CAEA,YAA4B5C,CAAY,EACtC,OACEA,EAAML,MAAM,YAAYkD,mBACxB7C,aAAiB8C,eACjB9C,YAAAA,EAAMM,IAAI,EAEV,CAAEN,CAAAA,EAAM+C,OAAO,EAAI/C,EAAMgD,MAAM,EAAIhD,EAAMiD,OAAO,EAAIjD,EAAMkD,QAAQ,GAElElD,MAAAA,EAAMmD,GAAG,CAIb,YAAcnD,CAAY,EAIxB,OAAO,aAAkBoD,YAAcpD,UAAAA,EAAMM,IAAI,EAAiB,MAAI,CAAC,WAAL,IAAI,CAA6BN,EACrG,CAEA,cACE,IAAK,IAAMS,KAAQ,IAAI,CAACe,KAAK,CAAE,CAC7B,IAAMvE,EAAQwD,EAAKhE,YAAY,CAAC,cAE5BQ,GACE,MAAI,CAAC,GAAeoG,GAAG,CAACpG,IAC1BwD,EAAK7D,YAAY,CAAC,IAAI,CAACF,iBAAiB,CAAE,OAGhD,CACA,MAAI,CAAC,YAAL,IAAI,CACN,CAEA,YAAiB+D,CAAqB,EACpC,IAAM6C,EAAS7C,EAAKlD,aAAa,CAAC,UAC5BN,EAAQwD,EAAKhE,YAAY,CAAC,cAE5BQ,GACF,MAAI,CAAC,GAAesG,GAAG,CAACtG,EAAO,CAC7BA,MAAAA,EACAuG,MAAOF,EAAO/F,aAAa,CAAC,0BAA0BkG,aAAaC,OACnEC,UAAWL,EAAO7G,YAAY,CAAC,mBAC/B8E,QAASd,CACX,EAEJ,CAEA,YAAoBA,CAAa,EAC/B,IAAMxD,EAAQwD,EAAKhE,YAAY,CAAC,cAE5BQ,GACF,MAAI,CAAC,GAAef,MAAM,CAACe,EAE/B,CAEA,cACM,MAAI,CAAC,IAAwB2G,aAAa,MAAI,CAAC,IAC/C,MAAI,CAAC,IAA+BA,aAAa,MAAI,CAAC,I,OAErD,EAAgCC,WAAW,KAC9CC,CAAAA,EAAAA,EAAAA,CAAAA,EAAS,UAAW,CAACvC,QAAS,IAAI,CAACwC,iBAAiB,EACtD,EAAG,M,OAEE,EAAyBF,WAAW,KACvC,MAAI,CAAC,GAA6BG,kBAAkB,EACtD,EAAG,KACL,CAkGA,YAA4BhE,CAAY,EACtC,OAAQA,EAAMM,IAAI,EAChB,IAAK,4BACH,MAAI,CAAC,WAAL,IAAI,EACJ,KAGF,KAAK,QAAS,CACZ,IAAM2D,EAAe,IAAI,CAACC,oBAAoB,CAE9C,GAAID,GAAgB,CAACA,EAAa9G,YAAY,CAAC,UAAW,CACxDgH,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBF,EAAc,CAAC1C,QAAS,IAAI,CAACwC,iBAAiB,CAAEK,UAAW,EAAI,GACnF,MACF,CAGF,CACF,CACF,CAEA,YAAwBpE,CAAY,EAClC,OAAQA,EAAMM,IAAI,EAChB,IAAK,uBACH,MAAI,CAAC,WAAL,IAAI,EACJ,MAAI,CAAC,WAAL,IAAI,EACJ,MAAI,CAAC,WAAL,IAAI,EACJ,KAGF,KAAK,qBACH,IAAI,CAAC+D,WAAW,EAAEzH,aAAa,SAAU,IAErC,IAAI,CAAC0C,eAAe,EAAI,QAAI,CAACgC,YAAY,CAACgD,MAAM,CAClD,MAAI,CAAC,WAAL,IAAI,IAEJ,MAAI,CAAC,WAAL,IAAI,IAGN,KAGF,KAAK,YACH,GAAI,CAAC,MAAI,CAAC,WAAL,IAAI,EAA6B,CAIpC,GAHA,MAAI,CAAC,WAAL,IAAI,EACJ,IAAI,CAACD,WAAW,EAAExH,gBAAgB,UAE9B,IAAI,CAACwH,WAAW,CAAE,MACtB,MAAI,CAAC,WAAL,IAAI,CACN,CAEA,KAGF,KAAK,UACH,MAAI,CAAC,GAA6BE,kBAAkB,GAChD,MAAI,CAAC,IAA+BX,aAAa,MAAI,CAAC,IACtD,MAAI,CAAC,IAAwBA,aAAa,MAAI,CAAC,GAGvD,CACF,CAEA,YAAiBnD,CAAiB,CAAE+D,CAAa,EAE/C,MAAOC,CADOhE,EAAKhE,YAAY,CAAC,uBAAyBgE,EAAKgD,WAAW,EAAI,EAAC,EAAGiB,WAAW,GAChFC,OAAO,CAACH,EAAME,WAAW,IAAM,EAC7C,CAEA,YAAwB1E,CAAY,EAOlC,GANmB,YAAfA,EAAMM,IAAI,EAAkB,gBAAyB6C,GAAG,EACtD,IAAI,CAAC1B,aAAa,GACpB,IAAI,CAACA,aAAa,CAACmD,KAAK,GACxB5E,EAAMQ,cAAc,IAGpBR,UAAAA,EAAMM,IAAI,GAKT,IAAI,CAAC+D,WAAW,EAAK,MAAI,CAAC,WAAL,IAAI,GAC5B,MAAI,CAAC,WAAL,IAAI,EAGF,UAAI,CAAC,IAA0C,UAAI,CAAC,IAAmD,CACzG,GAAI,IAAI,CAAC/E,eAAe,CAAE,CACxB,IAAI,CAACA,eAAe,CAACuF,OAAO,GAC5B,MACF,CAEA,MAAI,CAAC,WAAL,IAAI,CACN,CACF,CAEA,cACE,GAAI,CAAC,IAAI,CAACC,IAAI,CAAE,OAEhB,IAAIC,EAAmB,GAEvB,GAAI,MAAI,CAAC,WAAL,IAAI,EAA6B,CACnC,IAAMP,EAAQ,IAAI,CAACvE,oBAAoB,EAAEhD,OAAS,GAC5C+H,EAAS,IAAI,CAACC,QAAQ,EAAI,MAAI,CAAC,MAErC,IAAK,IAAMxE,KAAQ,IAAI,CAACe,KAAK,CACvBwD,EAAOvE,EAAM+D,IACf,IAAI,CAACpC,QAAQ,CAAC3B,GACdsE,EAAmB,IAEnB,IAAI,CAAC5C,QAAQ,CAAC1B,EAGpB,MACEsE,EAAmB,IAAI,CAACvD,KAAK,CAAC8C,MAAM,CAAG,EAMzC,IAAK,IAAM7D,KAHX,MAAI,CAAC,WAAL,IAAI,EACJ,MAAI,CAAC,WAAL,IAAI,EAEe,IAAI,CAACe,KAAK,EAAE,CAC7B,IAAMvE,EAAQwD,EAAKhE,YAAY,CAAC,cAE5BQ,GAAS,CAAC,MAAI,CAAC,GAAeoG,GAAG,CAACpG,IAAU,IAAI,CAACoF,aAAa,CAAC5B,IACjE,MAAI,CAAC,WAAL,IAAI,CAAkBA,EAE1B,CAEA,GAAK,IAAI,CAACyE,SAAS,EAEnB,GAAI,MAAI,CAAC,WAAL,IAAI,EAAkB,CACxB,IAAI,CAACA,SAAS,CAACtI,YAAY,CAAC,SAAU,IACtC,MACF,CAEImI,GACF,IAAI,CAACG,SAAS,CAACtI,YAAY,CAAC,SAAU,IAEtC,IAAI,CAACkI,IAAI,EAAEvH,cAAc,oBAAoBV,gBAAgB,YAE7D,IAAI,CAACiI,IAAI,EAAEvH,cAAc,oBAAoBX,aAAa,SAAU,IACpE,IAAI,CAACsI,SAAS,CAACrI,eAAe,CAAC,WAEnC,CAEA,oBACE,EAAI,IAAI,CAACqH,oBAAoB,EAAI,CAAC,IAAI,CAACA,oBAAoB,CAAC/G,YAAY,CAAC,WAIlE,CAAC,IAAI,CAACgI,kBAAkB,CAAChI,YAAY,CAAC,SAC/C,CAEA,YAAemD,CAAoB,EACjC,IAAI2D,EAAe,IAAI,CAACC,oBAAoB,CAY5C,GAVI5D,IAAAA,GACF,IAAI,CAAC4D,oBAAoB,EAAErH,gBAAgB,UAC3C,IAAI,CAACsI,kBAAkB,CAACvI,YAAY,CAAC,SAAU,MAE/CqH,EAAe,IAAI,CAACkB,kBAAkB,CACtC,IAAI,CAACA,kBAAkB,EAAEtI,gBAAgB,UACzC,IAAI,CAACqH,oBAAoB,EAAEtH,aAAa,SAAU,KAIhDqH,GAAgB,CAACA,EAAa9G,YAAY,CAAC,UAAW,CACxDgH,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBF,EAAc,CAAC1C,QAAS,IAAI,CAACwC,iBAAiB,CAAEK,UAAW,EAAI,GACnF,MACF,CACF,CAEA,cACE,IAAI,CAACF,oBAAoB,EAAEtH,aAAa,SAAU,IAClD,IAAI,CAACuI,kBAAkB,CAACvI,YAAY,CAAC,SAAU,GACjD,CAEA,cACE,GAAI,IAAI,CAACN,IAAI,EAAI,IAAI,CAACwI,IAAI,CAAE,CAC1B,IAAMtD,EAAQ,IAAI,CAACA,KAAK,CAExB,GAAIA,EAAM8C,MAAM,CAAG,EAEjBR,CAAAA,EAAAA,EAAAA,CAAAA,EAAS,GAAGtC,EAAM8C,MAAM,UAAU9C,IAAAA,EAAM8C,MAAM,CAAS,GAAK,qBAAqB,CAAE,CACjF/C,QAAS,IAAI,CAACwC,iBAAiB,OAE5B,CACL,IAAMqB,EAAc,IAAI,CAACF,SAAS,CAC9BE,GACFjB,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBiB,EAAa,CAAC7D,QAAS,IAAI,CAACwC,iBAAiB,EAErE,CACF,CACF,CAEA,cACE,GAAI,CAAC,IAAI,CAACe,IAAI,CAAE,OAAO,EAEvB,OAAQ,IAAI,CAACA,IAAI,CAACrI,YAAY,CAAC,wBAC7B,IAAK,QACH,OAAO,CACT,KAAK,mBACH,OAAO,CACT,SACE,OAAO,CACX,CACF,CAEA,cACE,OAAO,IAAI,CAACwD,oBAAoB,CAACS,OAAO,CAAC,oBAC3C,CAEA,cACE,OAAO,UAAI,CAAC,IAA0C,UAAI,CAAC,EAC7D,CAEA,YAAwBV,CAAY,EAClCA,EAAMQ,cAAc,GAEpBR,EAAM2C,eAAe,GAEjB,IAAI,CAACrG,IAAI,CACX,MAAI,CAAC,WAAL,IAAI,EAEJ,MAAI,CAAC,WAAL,IAAI,CAER,CAEA,YAA2B0D,CAAY,CAAEzD,CAAmB,EAC1D,IAAI,CAACgB,aAAa,CAAc,mBAAoBgB,KAAK,CAAC8G,OAAO,CAAG,OACpE,IAAMC,EAAoB,IAAIvG,gBACxB,CAACD,OAAAA,CAAM,CAAC,CAAGwG,EACXC,EAAoB,KACxBD,EAAkBxF,KAAK,GACvB,IAAI,CAACvC,aAAa,CAAc,mBAAoBgB,KAAK,CAAC8G,OAAO,CAAG,GAChE,IAAI,CAAC/I,IAAI,EACX,MAAI,CAAC,WAAL,IAAI,EAEN,IAAMkJ,EAAgB,IAAI,CAACxJ,aAAa,CAACwJ,aAAa,CAChDC,EAAY,IAAI,CAACzJ,aAAa,CAACwJ,aAAa,GAAK,IAAI,CAACxJ,aAAa,CAAC0J,IAAI,CACxEC,EAAoB,IAAI,CAACxF,QAAQ,CAACqF,GACpCC,CAAAA,GAAaE,CAAgB,GAC/B9B,WAAW,IAAM,IAAI,CAACxG,cAAc,EAAEuH,QAAS,EAEnD,EAEArI,EAAOX,gBAAgB,CAAC,QAAS2J,EAAmB,CAACzG,OAAAA,CAAM,GAC3DvC,EAAOX,gBAAgB,CAAC,SAAU2J,EAAmB,CAACzG,OAAAA,CAAM,EAC9D,CAEA,YAAqB2B,CAAqB,EAiBxC,GAV2B,aAAvB,IAAI,CAACjE,aAAa,EACpBqH,WAAW,KACL,IAAI,CAACvH,IAAI,EACX,MAAI,CAAC,WAAL,IAAI,CAER,GAKE,iBAAI,CAACE,aAAa,EAAmB,eAAI,CAACA,aAAa,CAAe,OAE1E,IAAMoJ,EAAU,CAAC,IAAI,CAACvD,aAAa,CAAC5B,GAUpC,GAAI,CARsB,IAAI,CAACoF,aAAa,CAC1C,IAAIC,YAAY,sBAAuB,CACrCC,QAAS,GACTC,OAAQ,CAACvF,KAAAA,EAAMmF,QAAAA,CAAO,EACtBK,WAAY,EACd,IAGsB,OAExB,IAAMvE,EAAc,MAAI,CAAC,YAAL,IAAI,CAAiBjB,GAEzC,GAAI,eAAI,CAACjE,aAAa,CAAe,CAOnC,IAAK,IAAM0J,KALPN,IACF,MAAI,CAAC,WAAL,IAAI,CAAkBnF,GACtBiB,GAAa9E,aAAa,IAAI,CAACF,iBAAiB,CAAE,SAG1B,IAAI,CAACc,gBAAgB,CAAC,CAAC,CAAC,EAAE,IAAI,CAACd,iBAAiB,CAAC,CAAC,CAAC,GACvEwJ,IAAgBxE,IAClB,MAAI,CAAC,WAAL,IAAI,CAAqBwE,GACzBA,EAAYtJ,YAAY,CAAC,IAAI,CAACF,iBAAiB,CAAE,UAIrD,MAAI,CAAC,WAAL,IAAI,CACN,MAEEgF,GAAa9E,aAAa,IAAI,CAACF,iBAAiB,CAAE,CAAC,EAAEkJ,EAAQ,CAAC,EAE1DA,EACF,MAAI,CAAC,WAAL,IAAI,CAAkBnF,GAEtB,MAAI,CAAC,WAAL,IAAI,CAAqBA,GAI7B,MAAI,CAAC,YAAL,IAAI,EAEJ,IAAI,CAACoF,aAAa,CAChB,IAAIC,YAAY,gBAAiB,CAC/BC,QAAS,GACTC,OAAQ,CAACvF,KAAAA,EAAMmF,QAAAA,CAAO,CACxB,GAEJ,CAEA,cACE,IAAI,CAAClK,oBAAoB,GACzB,IAAI,CAACa,MAAM,CAAC4J,SAAS,GACrB,IAAMnG,EAAQ,IAAI8F,YAAY,cAAe,CAC3CE,OAAQ,CAACzJ,OAAQ,IAAI,CAACA,MAAM,CAC9B,GACA,IAAI,CAACsJ,aAAa,CAAC7F,EACrB,CAEA,cACE,IAAI,CAACzD,MAAM,CAAC2B,KAAK,GACjB,IAAI,CAAC2H,aAAa,CAChB,IAAIC,YAAY,cAAe,CAC7BE,OAAQ,CAACI,MAAO,IAAI,EACpBL,QAAS,EACX,GAEJ,CAEA,cACE,GAAI,CAAC,IAAI,CAAC7I,YAAY,CAAE,OACxB,IAAMQ,EAAe,IAAI,CAACA,YAAY,CACtC,GAAI,CAACA,EAAc,O,OACd,IAAL,IAAI,CAAC,IAAmBA,EAAa+F,WAAW,EAAI,IACpD,IAAM4C,EACJ,IAAI,CAAC9I,aAAa,CAAC,CAAC,CAAC,EAAE,IAAI,CAACb,iBAAiB,CAAC,4BAA4B,CAAC,GAAG+G,aAAe,MAAI,CAAC,GACpG,GAAI4C,EAAW,CACb,IAAMC,EAAaC,SAASC,aAAa,CAAC,QAC1CF,EAAWxE,SAAS,CAAC3F,GAAG,CAAC,kBACzB,IAAMsK,EAAcF,SAASC,aAAa,CAAC,OAC3CF,CAAAA,EAAW7C,WAAW,CAAG,CAAC,EAAE,IAAI,CAAC3G,kBAAkB,CAAC,CAAC,CAAC,CACtD2J,EAAYhD,WAAW,CAAG4C,EAC1B3I,EAAagJ,eAAe,CAACJ,EAAYG,GAErC,IAAI,CAACzJ,sBAAsB,EAC7B,IAAI,CAACK,cAAc,EAAET,aAAa,aAAc,CAAC,EAAE,IAAI,CAACI,sBAAsB,CAAC,CAAC,EAAEqJ,EAAU3C,IAAI,GAAG,CAAC,CAExG,MACEhG,EAAa+F,WAAW,CAAG,MAAI,CAAC,EAEpC,CAEA,cACE,GAAI,eAAI,CAACjH,aAAa,CAAe,CACnC,IAAMmK,EAAQ,IAAI,CAACpJ,aAAa,CAAC,iCACjC,GAAI,CAACoJ,EAAO,OAEZ,IAAMC,EAAe,IAAI,CAACjJ,aAAa,CAAC,EAAE,CAEtCiJ,GACFD,EAAM1J,KAAK,CAAG,CAAC2J,EAAa3J,KAAK,EAAI2J,EAAapD,KAAK,EAAI,EAAC,EAAGE,IAAI,GAC/DkD,EAAajD,SAAS,EAAEgD,CAAAA,EAAME,IAAI,CAAGD,EAAajD,SAAS,EAC/DgD,EAAM9J,eAAe,CAAC,aAEtB8J,EAAM/J,YAAY,CAAC,WAAY,WAEnC,MAAO,GAAI,aAAI,CAACJ,aAAa,CAAa,CAExC,IAAMsK,EAAY,IAAI,CAACvJ,aAAa,CAAC,2BACrC,GAAI,CAACuJ,EAAW,OAEhB,IAAMC,EAASD,EAAUtJ,gBAAgB,CAAC,SAM1C,IAAK,IAAMoJ,KAJPG,EAAOzC,MAAM,CAAG,G,OACb,IAAL,IAAI,CAAC,IAAe,CAAO,CAAC,EAAE,CAAsBuC,IAAI,EAG/B,IAAI,CAAClJ,aAAa,EAAE,CAC7C,IAAMqJ,EAAWT,SAASC,aAAa,CAAC,SACxCQ,EAASpK,YAAY,CAAC,kBAAmB,QACzCoK,EAAS1G,IAAI,CAAG,SAChB0G,EAASC,YAAY,CAAG,MACxBD,EAASH,IAAI,CAAGD,EAAajD,SAAS,EAAI,MAAI,CAAC,GAC/CqD,EAAS/J,KAAK,CAAG,CAAC2J,EAAa3J,KAAK,EAAI2J,EAAapD,KAAK,EAAI,EAAC,EAAGE,IAAI,GAEtEoD,EAAUI,MAAM,CAACF,EACnB,CAEA,IAAK,IAAML,KAASI,EAClBJ,EAAM1E,MAAM,EAEhB,CACF,CAEA,cACE,OAAQ,IAAI,CAAC1E,aAAa,CAACxC,IAA2B4F,eAAiB,IACzE,CA6FA,YAAgBF,CAAqB,EACnC,OAAOA,EAAKlD,aAAa,CAAC,qBAC5B,C,6yBAGG5B,OAAOwL,cAAc,CAACC,GAAG,CAAC,+BAC7BzL,OAAOS,8BAA8B,CAAGA,+BACxCT,OAAOwL,cAAc,CAACE,MAAM,CAAC,4BAA6BjL,gC,+EC5+BrD,SAAS+H,EAAoBpI,CAAe,CAAEuL,CAAsD,EACrGC,CAAAA,EAAAA,EAAAA,EAAAA,EAAiB,sCACnBzD,EAAS0D,EAAezL,GAAK,CAAC,GAAGuL,CAAO,CAAE/F,QAAS+F,GAAS/F,SAAWxF,CAAE,GAChEwL,CAAAA,EAAAA,EAAAA,EAAAA,EAAiB,+BAAiCD,GAAS/F,UAAYkG,KAAAA,EAChFC,CAAAA,EAAAA,EAAAA,EAAAA,EAA8B3L,EAAI,CAChC4L,WAAYL,GAASlD,UAAY,YAAc,QACjD,GAEAN,EAAS0D,EAAezL,GAAKuL,EAEjC,CAMO,SAASxD,EAAS8D,CAAe,CAAEN,CAAsD,EAC9F,GAAM,CAAClD,UAAAA,CAAS,CAAE7C,QAAAA,CAAO,CAAC,CAAG+F,GAAW,CAAC,CAErCC,CAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAiB,uCAAyC,eAAgBM,QAAQC,SAAS,CAC1FvG,CAAAA,GAAWgF,SAASb,IAAI,EAAuCqC,UAAU,CAACH,EAAS,CACpFI,UAAWV,GAASlD,UAAY,MAAQ,MAC1C,GACSmD,CAAAA,EAAAA,EAAAA,EAAAA,EAAiB,+BAAiChG,KAAYkG,IAAZlG,EAC3D0G,CAAAA,EAAAA,EAAAA,EAAAA,EAAmBL,EAAS,CAC1BD,WAAYvD,EAAY,YAAc,QACxC,GAEA8D,SAKyBN,CAAe,CAAExD,CAAmB,CAAE7C,CAAqB,EAItF,IAAM4G,EAAY5G,GAAW6G,EAAAA,EAAeA,EAAE7K,cAFrC6G,EAAY,4CAA8C,mCAG9D+D,IACDA,EAAU1E,WAAW,GAAKmE,EAM5BO,EAAU1E,WAAW,CAAG,CAAC,EAAEmE,EAAQ,MAAM,CAAC,CAE1CO,EAAU1E,WAAW,CAAGmE,EAE5B,EArBwBA,EAASxD,EAAW7C,EAE5C,CAsBA,SAASiG,EAAezL,CAAe,EAGrC,MAAO,CAACA,EAAGU,YAAY,CAAC,eAAiBV,EAAGsM,SAAS,EAAI,EAAC,EAAG3E,IAAI,EACnE,C,sBCtEI4E,EAEG,SAASC,IACd,GAAI,CAACD,EACH,MAAM,MACJ,gNAIJ,OAAOA,CACT,CAEO,SAASE,IACd,OAAOF,GAAKG,QAAU,OACxB,CAEO,SAASC,IACd,MAAO,CAAC,CAACH,IAASI,KAAK,C,qCAsBzBC,WAdE,GAAI,oBAAOrC,SAA0B,CACnC,IAAMsC,EAAStC,SAASzF,cAAc,CAAC,cACvC,GAAI+H,EACF,GAAI,CACFP,EAAMQ,KAAKC,KAAK,CAACF,EAAOpF,WAAW,EAAI,GACzC,CAAE,MAAOuF,EAAO,CAEdC,QAAQD,KAAK,CAAC,2BAA4BA,EAC5C,CAEJ,CACF,G,+ECtCA,SAASE,IAGP,OAAO,IAAI5N,IADe6N,CADTZ,EAAAA,EAAAA,EAAAA,IAASa,YAAY,CACHpO,GAAG,CAACqO,GAAWA,EAAQ3E,WAAW,IAEvE,CAEA,IAAM4E,EACJC,E,OAAAA,EAASA,CAAsCL,EAAwBM,CAAAA,EAAAA,EAAAA,CAAAA,EAAQN,GAE1E,SAASO,IACd,OAAO7L,MAAMC,IAAI,CAACyL,IACpB,CAEO,SAAS/B,EAAiBV,CAAY,EAC3C,OAAOyC,IAAcjG,GAAG,CAACwD,EAAKnC,WAAW,GAC3C,CAGA,IAAMgF,EAAc,CAACnC,iBAAAA,CAAgB,C,uMClBrC,IAAMoC,EAAc,oBAAOC,kBAAmCA,iBAGjDxB,EAAkB,oBAAO7B,UAA4BoD,EAAclC,KAAAA,EAAYlB,SAE/EsD,EAAgB,oBAAOlO,QAA0BgO,EAAclC,KAAAA,EAAY9L,OAE3EmO,EAAiB,oBAAOC,SAA2BJ,EAAclC,KAAAA,EAAYsC,QAE7EC,EAEX,oBAAOC,UAA4BN,EAAc,CAACO,SAAU,GAAIC,OAAQ,GAAIC,OAAQ,GAAIC,KAAM,GAAIC,KAAM,EAAE,EAAIL,Q,qECVzG,IAAMV,EAAY,KAA2B,IAApBnB,EAAAA,EAAeA,CAKlCmC,EAAa,CAAChB,EAOpB,SAASiB,UACd,EAAIjB,GAAa,CAACnB,EAAAA,EAAeA,EAI1BqC,CAAAA,CACLrC,CAAAA,EAAAA,EAAeA,CAAC7K,aAAa,CAAC,+BAC5B6K,EAAAA,EAAeA,CAAC7K,aAAa,CAAC,gEAA+D,CAEnG,C,iBC1BO,SAASmN,EAAY,GAAGC,CAAI,EAE/B,OAAO7B,KAAK8B,SAAS,CAACD,EAAM,CAACE,EAAGC,IAAO,iBAAOA,EAAiBA,EAAIC,OAAOD,GAC9E,CACe,SAAStB,EAAQwB,CAAE,CAAEC,EAAO,CAAC,CAAC,EACzC,GAAM,CAAEZ,KAAAA,EAAOK,CAAW,CAAEQ,MAAAA,EAAQ,IAAI1I,GAAK,CAAE,CAAGyI,EAClD,OAAO,SAAU,GAAGN,CAAI,EACpB,IAAMrN,EAAK+M,EAAKc,KAAK,CAAC,IAAI,CAAER,GAC5B,GAAIO,EAAM7H,GAAG,CAAC/F,GACV,OAAO4N,EAAM9D,GAAG,CAAC9J,GACrB,IAAI8N,EAASJ,EAAGG,KAAK,CAAC,IAAI,CAAER,GAS5B,OARIS,aAAkBC,SAElBD,CAAAA,EAASA,EAAOE,KAAK,CAACtC,IAElB,MADAkC,EAAMhP,MAAM,CAACoB,GACP0L,CACV,EAAC,EAELkC,EAAM3H,GAAG,CAACjG,EAAI8N,GACPA,CACX,CACJ,C,6DCrBA,IAAMG,EAAW,CACfC,KAAM,OACNC,MAAO,QACPC,QAAS,SACX,EAEA,IAsBIC,EAAYC,EAAOC,EAAcC,EAAgBC,EAAYC,EA6H7DC,EAAIC,EAAUC,EAAUC,EA0DxBC,EAAUC,EAAQC,EAAYC,EAAcC,EAAgBC,EAA6BC,EA7MzFC,EAAkB,CAACC,EAAKC,EAAQC,KAClC,GAAI,CAACD,EAAOzJ,GAAG,CAACwJ,GACd,MAAMG,UAAU,UAAYD,EAChC,EACIE,EAAiB,CAACJ,EAAKC,EAAQI,KACjCN,EAAgBC,EAAKC,EAAQ,2BACtBI,EAASA,EAAOC,IAAI,CAACN,GAAOC,EAAO1F,GAAG,CAACyF,IAE5CO,EAAiB,CAACP,EAAKC,EAAQ7P,KACjC,GAAI6P,EAAOzJ,GAAG,CAACwJ,GACb,MAAMG,UAAU,oDAClBF,CAAAA,aAAkBO,QAAUP,EAAO3Q,GAAG,CAAC0Q,GAAOC,EAAOvJ,GAAG,CAACsJ,EAAK5P,EAChE,EACIqQ,EAAiB,CAACT,EAAKC,EAAQ7P,EAAOsQ,KACxCX,EAAgBC,EAAKC,EAAQ,0BAC7BS,EAASA,EAAOJ,IAAI,CAACN,EAAK5P,GAAS6P,EAAOvJ,GAAG,CAACsJ,EAAK5P,GAC5CA,GAELuQ,EAAoB,CAACX,EAAKC,EAAQW,KACpCb,EAAgBC,EAAKC,EAAQ,yBACtBW,GAGT,kBAAMC,QACJC,YAAY,CAAEC,UAAAA,CAAS,CAAE,CAAE,CACzBR,EAAe,IAAI,CAAEvB,GACrBuB,EAAe,IAAI,CAAErB,GACrBqB,EAAe,IAAI,CAAEzB,EAAY,KAAK,GACtCyB,EAAe,IAAI,CAAExB,EAAO,KAAK,GACjC0B,EAAe,IAAI,CAAE3B,EAAYiC,GACjCN,EAAe,IAAI,CAAE1B,EAAO,EAAE,CAChC,CACAiC,OAAO5Q,CAAK,CAAE,CACZgQ,EAAe,IAAI,CAAErB,GAAOkC,IAAI,CAAC7Q,GACjCuQ,EAAkB,IAAI,CAAEzB,EAAYC,GAAcmB,IAAI,CAAC,IAAI,CAC7D,CACAY,KAAM,CACJ,IAAMtN,EAAOwM,EAAe,IAAI,CAAErB,EAAM,CAAC,EAAE,CAM3C,OALIqB,EAAe,IAAI,CAAErB,EAAM,CAACqB,EAAe,IAAI,CAAErB,GAAOtH,MAAM,CAAG,EAAE,GACrE2I,EAAe,IAAI,CAAErB,EAAM,CAAC,EAAE,CAAGqB,EAAe,IAAI,CAAErB,EAAM,CAACqB,EAAe,IAAI,CAAErB,GAAOtH,MAAM,CAAG,EAAE,CACpG2I,EAAe,IAAI,CAAErB,GAAOmC,GAAG,IAEjCP,EAAkB,IAAI,CAAE3B,EAAcC,GAAgBqB,IAAI,CAAC,IAAI,EACxD1M,CACT,CACAuN,MAAO,CACL,OAAOf,EAAe,IAAI,CAAErB,EAAM,CAAC,EAAE,CAEvC1P,OAAOe,CAAK,CAAE,CACZ,IAAMgR,EAAQhB,EAAe,IAAI,CAAErB,GAAOjH,OAAO,CAAC1H,EACpC,MAAVgR,IAGJC,EAAKjB,EAAe,IAAI,CAAErB,GAAQqC,EAAOhB,EAAe,IAAI,CAAErB,GAAOtH,MAAM,CAAG,GAC9E2I,EAAe,IAAI,CAAErB,GAAOmC,GAAG,GAC/BP,EAAkB,IAAI,CAAE3B,EAAcC,GAAgBqB,IAAI,CAAC,IAAI,EACjE,CACAgB,OAAQ,CACNb,EAAe,IAAI,CAAE1B,EAAO,EAAE,CAChC,CACA,IAAIwC,MAAO,CACT,OAAOnB,EAAe,IAAI,CAAErB,GAAOtH,MAAM,CAE7C,EAiCA,SAAS+J,EAAeJ,CAAK,EAC3B,OAAOK,KAAKC,KAAK,CAAC,CAACN,EAAQ,GAAK,EAClC,CAmBA,SAASC,EAAKM,CAAI,CAAEC,CAAC,CAAEC,CAAC,EACtB,IAAMC,EAAMH,CAAI,CAACC,EAAE,CACnBD,CAAI,CAACC,EAAE,CAAGD,CAAI,CAACE,EAAE,CACjBF,CAAI,CAACE,EAAE,CAAGC,CACZ,CAzDAhD,EAAa,IAAIiD,QACjBhD,EAAQ,IAAIgD,QACZ/C,EAAe,IAAIwB,QACnBvB,EAAiB,WACf,IAAImC,EAAQ,EACZ,KA+BOY,EA/BaZ,EAsBD,EAtBQhB,EAAe,IAAI,CAAErB,GAAOtH,MAAM,EAAG,CAC9D,IAAIwK,EAqBC,EArBqCb,EAqBzB,EAjBjB,GAoBK,EAvBaA,EAuBD,EAvBQhB,EAAe,IAAI,CAAErB,GAAOtH,MAAM,EAAK2I,EAAe,IAAI,CAAEtB,GAAYwB,IAAI,CAAC,IAAI,CAAaF,EAAe,IAAI,CAAErB,EAyCnI,CAlBJ,EAvB+IqC,EAuBnI,EAkBmB,CAzCkIhB,EAAe,IAAI,CAAErB,EAsClL,CAlBJ,EApB8LqC,EAoBlL,EAkBkB,IAtC4K1C,EAASC,IAAI,EAC1NsD,CAAAA,EAsBG,EAtBoCb,EAsBxB,CAtB6B,EAE1ChB,EAAe,IAAI,CAAEtB,GAAYwB,IAAI,CAAC,IAAI,CAAEF,EAAe,IAAI,CAAErB,EAAM,CAACqC,EAAM,CAAEhB,EAAe,IAAI,CAAErB,EAAM,CAACkD,EAAkB,IAAMvD,EAASC,IAAI,CACnJ,MAEA0C,EAAKjB,EAAe,IAAI,CAAErB,GAAQqC,EAAOa,GAE3Cb,EAAQa,CACV,CACF,EACA/C,EAAa,IAAIsB,QACjBrB,EAAe,WACb,IAAIiC,EAAQhB,EAAe,IAAI,CAAErB,GAAOtH,MAAM,CAAG,EACjD,KAAOyK,EAqBQ,GArBY9B,EAAe,IAAI,CAAEtB,GAAYwB,IAAI,CAAC,IAAI,CAAEF,EAAe,IAAI,CAAErB,EAAM,CAACqC,EAAM,CAAShB,EAAe,IAAI,CAAErB,EA8B5H,CAACyC,EA9BmIJ,GA8B7G,IA9ByH1C,EAASC,IAAI,EACtK0C,EAAKjB,EAAe,IAAI,CAAErB,GAAQqC,EAAOI,EAAeJ,IACxDA,EAAQI,EAAeJ,EAE3B,EAkCA,IAAIe,EAAYC,OAAOC,cAAc,CACjCC,EAAkB,CAACtC,EAAK1J,EAAKlG,IAAUkG,KAAO0J,EAAMmC,EAAUnC,EAAK1J,EAAK,CAAEiM,WAAY,GAAMC,aAAc,GAAMC,SAAU,GAAMrS,MAAAA,CAAM,GAAK4P,CAAG,CAAC1J,EAAI,CAAGlG,EACtJsS,EAAgB,CAAC1C,EAAK1J,EAAKlG,KAC7BkS,EAAgBtC,EAAK,iBAAO1J,EAAmBA,EAAM,GAAKA,EAAKlG,GACxDA,GAELuS,EAAkB,CAAC3C,EAAKC,EAAQC,KAClC,GAAI,CAACD,EAAOzJ,GAAG,CAACwJ,GACd,MAAMG,UAAU,UAAYD,EAChC,EACI0C,EAAiB,CAAC5C,EAAKC,EAAQI,KACjCsC,EAAgB3C,EAAKC,EAAQ,2BACtBI,EAASA,EAAOC,IAAI,CAACN,GAAOC,EAAO1F,GAAG,CAACyF,IAE5C6C,EAAiB,CAAC7C,EAAKC,EAAQ7P,KACjC,GAAI6P,EAAOzJ,GAAG,CAACwJ,GACb,MAAMG,UAAU,oDAClBF,CAAAA,aAAkBO,QAAUP,EAAO3Q,GAAG,CAAC0Q,GAAOC,EAAOvJ,GAAG,CAACsJ,EAAK5P,EAChE,EACI0S,EAAiB,CAAC9C,EAAKC,EAAQ7P,EAAOsQ,KACxCiC,EAAgB3C,EAAKC,EAAQ,0BAC7BS,EAASA,EAAOJ,IAAI,CAACN,EAAK5P,GAAS6P,EAAOvJ,GAAG,CAACsJ,EAAK5P,GAC5CA,GAGT,mBAAM2S,SACJjC,aAAc,CACZ4B,EAAc,IAAI,CAAEtD,EAAI,YACxByD,EAAe,IAAI,CAAExD,EAAU,KAAK,GACpCwD,EAAe,IAAI,CAAEvD,EAAU,KAAK,GACpCuD,EAAe,IAAI,CAAEtD,EAAS,KAAK,GACnCuD,EAAe,IAAI,CAAEzD,EAAU,IAAIb,QAAQ,CAACwE,EAASC,KACnDH,EAAe,IAAI,CAAExD,EAAU0D,GAC/BF,EAAe,IAAI,CAAEvD,EAAS0D,EAChC,GACF,CACAC,KAAKC,CAAW,CAAEC,CAAU,CAAE,CAC5B,OAAO5E,QAAQvD,SAAS,CAACiI,IAAI,CAAC5E,KAAK,CAACsE,EAAe,IAAI,CAAEvD,GAAW,CAAC8D,EAAaC,EAAW,CAC/F,CACA3E,MAAM2E,CAAU,CAAE,CAChB,OAAO5E,QAAQvD,SAAS,CAACwD,KAAK,CAACH,KAAK,CAACsE,EAAe,IAAI,CAAEvD,GAAW,CAAC+D,EAAW,CACnF,CACAC,QAAQC,CAAS,CAAE,CACjB,OAAO9E,QAAQvD,SAAS,CAACoI,OAAO,CAAC/E,KAAK,CAACsE,EAAe,IAAI,CAAEvD,GAAW,CAACiE,EAAU,CACpF,CACAN,QAAQ5S,CAAK,CAAE,CACbwS,EAAe,IAAI,CAAEtD,GAAUgB,IAAI,CAAC,IAAI,CAAElQ,EAC5C,CACA6S,OAAOM,CAAM,CAAE,CACbX,EAAe,IAAI,CAAErD,GAASe,IAAI,CAAC,IAAI,CAAEiD,EAC3C,CACAC,YAAa,CACX,OAAOZ,EAAe,IAAI,CAAEvD,EAC9B,CACF,EACAD,EAAKqE,OAAOC,WAAW,CACvBrE,EAAW,IAAI0C,QACfzC,EAAW,IAAIyC,QACfxC,EAAU,IAAIwC,QAEd,IAAI4B,EAAgB,CAAC3D,EAAKC,EAAQC,KAChC,GAAI,CAACD,EAAOzJ,GAAG,CAACwJ,GACd,MAAMG,UAAU,UAAYD,EAChC,EACI0D,EAAe,CAAC5D,EAAKC,EAAQI,KAC/BsD,EAAc3D,EAAKC,EAAQ,2BACpBI,EAASA,EAAOC,IAAI,CAACN,GAAOC,EAAO1F,GAAG,CAACyF,IAE5C6D,EAAe,CAAC7D,EAAKC,EAAQ7P,KAC/B,GAAI6P,EAAOzJ,GAAG,CAACwJ,GACb,MAAMG,UAAU,oDAClBF,CAAAA,aAAkBO,QAAUP,EAAO3Q,GAAG,CAAC0Q,GAAOC,EAAOvJ,GAAG,CAACsJ,EAAK5P,EAChE,EACI0T,EAAe,CAAC9D,EAAKC,EAAQ7P,EAAOsQ,KACtCiD,EAAc3D,EAAKC,EAAQ,0BAC3BS,EAASA,EAAOJ,IAAI,CAACN,EAAK5P,GAAS6P,EAAOvJ,GAAG,CAACsJ,EAAK5P,GAC5CA,GAEL2T,EAAkB,CAAC/D,EAAKC,EAAQW,KAClC+C,EAAc3D,EAAKC,EAAQ,yBACpBW,GAIT,4BAAMoD,0BAA0BxU,YAC9BsR,aAAc,CAmBZ,GAlBA,KAAK,GACL+C,EAAa,IAAI,CAAElE,GACnBkE,EAAa,IAAI,CAAEhE,GAKnBgE,EAAa,IAAI,CAAErE,EAAU,KAAK,GAIlCqE,EAAa,IAAI,CAAEpE,EAAQ,KAAK,GAMhCoE,EAAa,IAAI,CAAEnE,EAAY,KAAK,GAChC,CAAC,IAAI,CAACuE,UAAU,CAAE,CACpB,IAAMC,GAyKNC,GAIJA,CAAAA,CADAA,EAAWzK,SAASC,aAAa,CAAC,WAAU,EACnCyK,SAAS,CAAGC,CAAc,EAH1BF,GAxKLF,IADuB,CAACK,YAAY,CAAC,CAAEC,KAAM,MAAO,GACzCC,WAAW,CAACN,EAAUO,OAAO,CAACC,SAAS,CAAC,IACrD,CACAZ,EAAa,IAAI,CAAEtE,EAAU,IAC7BsE,EAAa,IAAI,CAAEpE,EAAY,MAC/BoE,EAAa,IAAI,CAAErE,EAAQ,IAAIoB,QAAQ,CACrCE,UAAW4D,CACb,GACF,CAKA,IAAIC,OAAQ,CACV,IAAMxU,EAAQ,IAAI,CAACR,YAAY,CAAC,gBAChC,EACSiV,SAASzU,EAAO,IAvCK,GA0ChC,CACA,IAAIwU,MAAMxU,CAAK,CAAE,CACf,IAAI,CAACL,YAAY,CAAC,QAAS,CAAC,EAAEK,EAAM,CAAC,CACvC,CAKA6G,SAAS8D,CAAO,CAAEN,EAAU,CAAC,CAAC,CAAE,CAC9B,GAAM,CAAEqK,QAAAA,CAAO,CAAEhK,WAAAA,EAAa,QAAQ,CAAE,CAAGL,EACrCsK,EAAMC,KAAKD,GAAG,GACdE,EAAW,IAAIlC,SACfnP,EAAO,CACXqR,SAAAA,EACAnK,WAAAA,EACAoK,SAAUnK,EACVoK,UAAWL,KAAiB,IAAjBA,EAAqBC,EAAMD,EAAUC,CAClD,EAGA,OAFAnB,EAAa,IAAI,CAAEnE,GAAQuB,MAAM,CAACpN,GAClCmQ,EAAgB,IAAI,CAAEpE,EAAcC,GAAgBU,IAAI,CAAC,IAAI,EACtD,CACL,GAAG2E,EAASzB,UAAU,EAAE,CACxB4B,OAAQ,KACNxB,EAAa,IAAI,CAAEnE,GAAQpQ,MAAM,CAACuE,GAClCqR,EAASjC,OAAO,EAClB,CACF,CACF,CAKA1L,oBAAoB5C,CAAO,CAAE+F,CAAO,CAAE,KA2FlCrK,EA1FF,IAAMwG,GA0FJxG,EAAQ,GACRsE,EAAQpE,YAAY,CAAC,cACvBF,EAAQsE,EAAQ9E,YAAY,CAAC,cACpB8E,EAAQ8G,SAAS,CAC1BpL,EAAQsE,EAAQ8G,SAAS,CAChB9G,EAAQkC,WAAW,EAC5BxG,CAAAA,EAAQsE,EAAQkC,WAAW,EAEtBxG,EAAQA,EAAMyG,IAAI,GAAK,UAjG5B,KAAID,EACK,IAAI,CAACK,QAAQ,CAACL,EAAa6D,GAG7B,CAD0B,GAAjB+D,QAAQwE,OAAO,EAE7B,CACAoC,OAAQC,CACV,CACF,CACAC,WAAWxK,EAAa,QAAQ,CAAE,CAChC,IAAMQ,EAAY,IAAI,CAAC2I,UAAU,EAAEhQ,eAAe6G,GAClD,GAAI,CAACQ,EACH,MAAM,MAAU,wCAElB,OAAOA,EAAU1E,WAAW,CAK9B0K,OAAQ,CACiC,OAAnCsC,EAAa,IAAI,CAAElE,KACrB3I,aAAa6M,EAAa,IAAI,CAAElE,IAChCoE,EAAa,IAAI,CAAEpE,EAAY,OAEjCkE,EAAa,IAAI,CAAEnE,GAAQ6B,KAAK,EAClC,CACF,EACA9B,EAAW,IAAIuC,QACftC,EAAS,IAAIsC,QACbrC,EAAa,IAAIqC,QACjBpC,EAAe,IAAIa,QACnBZ,EAAiB,WACf,GAAIgE,EAAa,IAAI,CAAEpE,GACrB,OAEF,IAAIzE,EAAU6I,EAAa,IAAI,CAAEnE,GAAQ0B,IAAI,GAC7C,GAAI,CAACpG,EACH,MAEqC,QAAnC6I,EAAa,IAAI,CAAElE,KACrB3I,aAAa6M,EAAa,IAAI,CAAElE,IAChCoE,EAAa,IAAI,CAAEpE,EAAY,OAEjC,IAAMqF,EAAMC,KAAKD,GAAG,GACpB,GAAIhK,EAAQoK,SAAS,EAAIJ,EAAK,CAC5BhK,CAAAA,EAAU6I,EAAa,IAAI,CAAEnE,GAAQyB,GAAG,EAAC,GAEvC6C,EAAgB,IAAI,CAAElE,EAA6BC,GAA+BQ,IAAI,CAAC,IAAI,CAAEvF,GAE/FgJ,EAAgB,IAAI,CAAEpE,EAAcC,GAAgBU,IAAI,CAAC,IAAI,EAC7D,MACF,CACA,IAAMiF,EAAUxK,EAAQoK,SAAS,CAAGJ,EACpCjB,EAAa,IAAI,CAAEpE,EAAY5Q,OAAOkI,UAAU,CAAC,KAC/C8M,EAAa,IAAI,CAAEpE,EAAY,MAC/BqE,EAAgB,IAAI,CAAEpE,EAAcC,GAAgBU,IAAI,CAAC,IAAI,CAC/D,EAAGiF,GACL,EACA1F,EAA8B,IAAIW,QAClCV,EAAgC,SAAS/E,CAAO,EAC9C+I,EAAa,IAAI,CAAEtE,EAAU,IAC7B,GAAM,CAAE0F,SAAAA,CAAQ,CAAED,SAAAA,CAAQ,CAAEnK,WAAAA,CAAU,CAAE,CAAGC,EACrCO,EAAY,IAAI,CAAC2I,UAAU,EAAEhQ,eAAe6G,GAClD,GAAI,CAACQ,EAEH,MADAwI,EAAa,IAAI,CAAEtE,EAAU,IACvB,MAAU,CAAC,oEAAoE,EAAE1E,EAAW,CAAC,CAAC,CAElGQ,CAAAA,EAAU1E,WAAW,GAAKsO,EAC5B5J,EAAU1E,WAAW,CAAG,CAAC,EAAEsO,EAAS,IAAI,CAAC,CAEzC5J,EAAU1E,WAAW,CAAGsO,EAEa,OAAnCtB,EAAa,IAAI,CAAElE,IACrB3I,aAAa6M,EAAa,IAAI,CAAElE,IAElCuF,EAASjC,OAAO,GACZ,IAAI,CAAC4B,KAAK,CAAG,EACfd,EAAa,IAAI,CAAEpE,EAAY5Q,OAAOkI,UAAU,CAAC,KAC/C8M,EAAa,IAAI,CAAEpE,EAAY,MAC/BoE,EAAa,IAAI,CAAEtE,EAAU,IAC7BuE,EAAgB,IAAI,CAAEpE,EAAcC,GAAgBU,IAAI,CAAC,IAAI,CAC/D,EAAG,IAAI,CAACsE,KAAK,IAEbd,EAAa,IAAI,CAAEpE,EAAY,MAC/BoE,EAAa,IAAI,CAAEtE,EAAU,IAC7BuE,EAAgB,IAAI,CAAEpE,EAAcC,GAAgBU,IAAI,CAAC,IAAI,EAEjE,EAYA,IAAI6D,EAAW,KACTE,EAAkB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CASD,SAASM,EAAgB/C,CAAC,CAAEC,CAAC,SAC3B,EAAM/G,UAAU,GAAK+G,EAAE/G,UAAU,CAC/B,EAAMqK,SAAS,GAAKtD,EAAEsD,SAAS,CACtBzG,EAASE,KAAK,CAEnBgD,EAAEuD,SAAS,CAAGtD,EAAEsD,SAAS,CACpBzG,EAASC,IAAI,CAEfD,EAASG,OAAO,CAEzB,cAAI+C,EAAE9G,UAAU,EAAoB+G,cAAAA,EAAE/G,UAAU,CACvC4D,EAASC,IAAI,CAElBiD,cAAAA,EAAE9G,UAAU,EAAoB+G,cAAAA,EAAE/G,UAAU,CACvC4D,EAASG,OAAO,CAElBH,EAASE,KAAK,CAEvB,SAASyG,IACT,CAMA,SAASpO,EAAS8D,CAAO,CAAEN,EAAU,CAAC,CAAC,EACrC,IAAI+K,EAAaC,EAAehL,EAAQzJ,IAAI,EAC5C,GAAI,CAACwU,EAAY,CACfA,EAAa9L,SAASC,aAAa,CAAC,eAChCc,EAAQiL,QAAQ,CAClBjL,EAAQiL,QAAQ,CAAClB,WAAW,CAACgB,GAG7BlK,EADyCb,EAAQzJ,IAAI,EAC3CwT,WAAW,CAACgB,GAKxB,IAAIG,EAAW,GACXP,EAAS,KACXO,EAAW,EACb,EAQA,MAAO,CADL,GANcC,EAAKC,GAAkB3C,IAAI,CAAC,KAC1C,GAAI,CAACyC,EAAU,CACb,IAAMpH,EAASiH,EAAWvO,QAAQ,CAAC8D,EAASN,GAE5C,OADA2K,EAAS7G,EAAO6G,MAAM,CACf7G,CACT,CACF,EAEE,CACA6G,OAAQ,KACNA,GACF,CACF,CACF,CACA,OAAOI,EAAWvO,QAAQ,CAAC8D,EAASN,EACtC,CACA,SAASnD,EAAoB5C,CAAO,CAAE+F,EAAU,CAAC,CAAC,EAChD,IAAI+K,EAAaC,EAAehL,EAAQzJ,IAAI,EAC5C,GAAI,CAACwU,EAAY,CACfA,EAAa9L,SAASC,aAAa,CAAC,eAChCc,EAAQiL,QAAQ,CAClBjL,EAAQiL,QAAQ,CAAClB,WAAW,CAACgB,GAG7BlK,EADyCb,EAAQzJ,IAAI,EAC3CwT,WAAW,CAACgB,GAKxB,IAAIG,EAAW,GACXP,EAAS,KACXO,EAAW,EACb,EAQA,MAAO,CADL,GANcC,EAAKC,GAAkB3C,IAAI,CAAC,KAC1C,GAAI,CAACyC,EAAU,CACb,IAAMpH,EAASiH,EAAWlO,mBAAmB,CAAC5C,EAAS+F,GAEvD,OADA2K,EAAS7G,EAAO6G,MAAM,CACf7G,CACT,CACF,EAEE,CACA6G,OAAQ,KACNA,GACF,CACF,CACF,CACA,OAAOI,EAAWlO,mBAAmB,CAAC5C,EAAS+F,EACjD,CACA,SAASgL,EAAezU,CAAI,EAC1B,IAAIwU,EAAa,YAEjB,OADAA,CAAAA,EAAaxU,EAAO8U,SAWQ9U,CAAI,EAChC,IAAMtB,EAASsB,EAAK6C,OAAO,CAAC,UACxBkS,EAAU/U,EACd,KACE,CADK+U,EAAUA,EAAQjS,aAAa,GAChCpE,CAAAA,CAAAA,GAAWA,EAAO4D,QAAQ,CAACyS,EAAO,GAGtC,IAAK,IAAMC,KAASD,EAAQE,UAAU,CACpC,GAAID,aAAiBhC,kBACnB,OAAOgC,EAIb,OAAO,IACT,EAzB2ChV,GAAQ,IAAG,GAMhDwU,OADJA,CAAAA,EAAalK,EAD4BtK,GAClBN,aAAa,CAAC,cAAa,EAHzC8U,EAOF,IACT,CAgBA,SAASU,EAAuBlV,CAAI,EAClC,IAAIsK,EAAY5B,SAASb,IAAI,CAC7B,GAAI7H,EAAM,CACR,IAAMtB,EAASsB,EAAK6C,OAAO,CAAC,UACxBnE,GACF4L,CAAAA,EAAY5L,CAAK,CAErB,CACA,OAAO4L,CACT,CA3GKhB,eAAeC,GAAG,CAAC,gBACtBD,eAAeE,MAAM,CAAC,cAAewJ,mBA2GvC,IAAM6B,EAAmB,IACzB,SAASD,EAAKO,CAAE,EACd,OAAO,IAAI3H,QAAQ,IACjBxH,WAAWgM,EAASmD,EACtB,EACF,C","sources":["app/components/primer/experimental/select-panel-element.ts","ui/packages/aria-live/aria-live.ts","ui/packages/client-env/client-env.ts","ui/packages/feature-flags/feature-flags.ts","ui/packages/ssr-utils/ssr-globals.ts","ui/packages/ssr-utils/ssr.ts","node_modules/@github/memoize/dist/esm/index.js","node_modules/@primer/live-region-element/dist/esm/index.js"],"sourcesContent":["import {getAnchoredPosition} from '@primer/behaviors'\nimport {controller, target} from '@github/catalyst'\nimport {announceFromElement, announce} from '@github-ui/aria-live'\nimport type {IncludeFragmentElement} from '@github/include-fragment-element'\nimport type {PrimerTextFieldElement} from '@primer/view-components/app/lib/primer/forms/primer_text_field'\nimport type {AnchorAlignment, AnchorSide} from '@primer/behaviors'\nimport '@oddbird/popover-polyfill'\n\ntype SelectVariant = 'none' | 'single' | 'multiple' | null\ntype SelectedItem = {\n  label: string | null | undefined\n  value: string | null | undefined\n  inputName: string | null | undefined\n  element: SelectPanelItem\n}\n\nconst validSelectors = ['[role=\"option\"]']\nconst menuItemSelectors = validSelectors.join(',')\nconst visibleMenuItemSelectors = validSelectors.map(selector => `:not([hidden]) > ${selector}`).join(',')\n\nexport type SelectPanelItem = HTMLLIElement\n\nexport type ItemActivatedEvent = {\n  item: SelectPanelItem\n  checked: boolean\n}\n\ndeclare global {\n  interface HTMLElementEventMap {\n    itemActivated: CustomEvent<ItemActivatedEvent>\n  }\n}\n\nenum FetchStrategy {\n  REMOTE,\n  EVENTUALLY_LOCAL,\n  LOCAL,\n}\n\nenum ErrorStateType {\n  BODY,\n  BANNER,\n}\n\nexport type FilterFn = (item: SelectPanelItem, query: string) => boolean\n\nconst updateWhenVisible = (() => {\n  const anchors = new Set<SelectPanelExperimentalElement>()\n  let resizeObserver: ResizeObserver | null = null\n  function updateVisibleAnchors() {\n    for (const anchor of anchors) {\n      anchor.updateAnchorPosition()\n    }\n  }\n  return (el: SelectPanelExperimentalElement) => {\n    // eslint-disable-next-line github/prefer-observers\n    window.addEventListener('resize', updateVisibleAnchors)\n    // eslint-disable-next-line github/prefer-observers\n    window.addEventListener('scroll', updateVisibleAnchors)\n\n    resizeObserver ||= new ResizeObserver(() => {\n      for (const anchor of anchors) {\n        anchor.updateAnchorPosition()\n      }\n    })\n    resizeObserver.observe(el.ownerDocument.documentElement)\n    el.addEventListener('dialog:close', () => {\n      anchors.delete(el)\n    })\n    el.addEventListener('dialog:open', () => {\n      anchors.add(el)\n    })\n  }\n})()\n\n@controller\nexport class SelectPanelExperimentalElement extends HTMLElement {\n  @target includeFragment: IncludeFragmentElement\n  @target dialog: HTMLDialogElement\n  @target filterInputTextField: HTMLInputElement\n  @target remoteInput: HTMLElement\n  @target list: HTMLElement\n  @target ariaLiveContainer: HTMLElement\n  @target noResults: HTMLElement\n  @target fragmentErrorElement: HTMLElement\n  @target errorBannerElement: HTMLElement\n  @target bodySpinner: HTMLElement\n\n  filterFn?: FilterFn\n\n  #dialogIntersectionObserver: IntersectionObserver\n  #abortController: AbortController\n  #originalLabel = ''\n  #inputName = ''\n  #selectedItems: Map<string, SelectedItem> = new Map()\n  #loadingDelayTimeoutId: number | null = null\n  #loadingAnnouncementTimeoutId: number | null = null\n\n  get open(): boolean {\n    return this.dialog.open\n  }\n\n  get selectVariant(): SelectVariant {\n    return this.getAttribute('data-select-variant') as SelectVariant\n  }\n\n  get ariaSelectionType(): string {\n    return this.selectVariant === 'multiple' ? 'aria-checked' : 'aria-selected'\n  }\n\n  set selectVariant(variant: SelectVariant) {\n    if (variant) {\n      this.setAttribute('data-select-variant', variant)\n    } else {\n      this.removeAttribute('variant')\n    }\n  }\n\n  get dynamicLabelPrefix(): string {\n    const prefix = this.getAttribute('data-dynamic-label-prefix')\n    if (!prefix) return ''\n    return `${prefix}:`\n  }\n\n  get dynamicAriaLabelPrefix(): string {\n    const prefix = this.getAttribute('data-dynamic-aria-label-prefix')\n    if (!prefix) return ''\n    return `${prefix}:`\n  }\n\n  set dynamicLabelPrefix(value: string) {\n    this.setAttribute('data-dynamic-label', value)\n  }\n\n  get dynamicLabel(): boolean {\n    return this.hasAttribute('data-dynamic-label')\n  }\n\n  set dynamicLabel(value: boolean) {\n    this.toggleAttribute('data-dynamic-label', value)\n  }\n\n  get invokerElement(): HTMLButtonElement | null {\n    const id = this.querySelector('dialog')?.id\n    if (!id) return null\n    for (const el of this.querySelectorAll(`[aria-controls]`)) {\n      if (el.getAttribute('aria-controls') === id) {\n        return el as HTMLButtonElement\n      }\n    }\n    return null\n  }\n\n  get closeButton(): HTMLButtonElement | null {\n    return this.querySelector('button[data-close-dialog-id]')\n  }\n\n  get invokerLabel(): HTMLElement | null {\n    if (!this.invokerElement) return null\n    return this.invokerElement.querySelector('.Button-label')\n  }\n\n  get selectedItems(): SelectedItem[] {\n    return Array.from(this.#selectedItems.values())\n  }\n\n  get align(): AnchorAlignment {\n    return (this.getAttribute('anchor-align') || 'start') as AnchorAlignment\n  }\n\n  get side(): AnchorSide {\n    return (this.getAttribute('anchor-side') || 'outside-bottom') as AnchorSide\n  }\n\n  updateAnchorPosition() {\n    // If the selectPanel is removed from the screen on resize close the dialog\n    if (this && this.offsetParent === null) {\n      this.dialog.close()\n    }\n\n    if (this.invokerElement) {\n      const {top, left} = getAnchoredPosition(this.dialog, this.invokerElement, {\n        align: this.align,\n        side: this.side,\n        anchorOffset: 4,\n      })\n      this.dialog.style.top = `${top}px`\n      this.dialog.style.left = `${left}px`\n      this.dialog.style.bottom = 'auto'\n      this.dialog.style.right = 'auto'\n      this.dialog.scrollIntoView({block: 'nearest', inline: 'nearest'})\n    }\n  }\n\n  connectedCallback() {\n    const {signal} = (this.#abortController = new AbortController())\n    this.addEventListener('keydown', this, {signal})\n    this.addEventListener('click', this, {signal})\n    this.addEventListener('mousedown', this, {signal})\n    this.addEventListener('input', this, {signal})\n    this.addEventListener('remote-input-success', this, {signal})\n    this.addEventListener('remote-input-error', this, {signal})\n    this.addEventListener('loadstart', this, {signal})\n    this.#setDynamicLabel()\n    this.#updateInput()\n    this.#softDisableItems()\n    updateWhenVisible(this)\n\n    if (this.remoteInput) {\n      this.remoteInput.addEventListener('loadstart', this, {signal})\n      this.remoteInput.addEventListener('loadend', this, {signal})\n    } else {\n      const mutationObserver = new MutationObserver(() => {\n        if (this.remoteInput) {\n          this.remoteInput.addEventListener('loadstart', this, {signal})\n          this.remoteInput.addEventListener('loadend', this, {signal})\n          mutationObserver.disconnect()\n        }\n      })\n\n      mutationObserver.observe(this, {childList: true, subtree: true})\n    }\n\n    if (this.includeFragment) {\n      this.includeFragment.addEventListener('include-fragment-replaced', this, {signal})\n      this.includeFragment.addEventListener('error', this, {signal})\n    } else {\n      const mutationObserver = new MutationObserver(() => {\n        if (this.includeFragment) {\n          this.includeFragment.addEventListener('include-fragment-replaced', this, {signal})\n          this.includeFragment.addEventListener('error', this, {signal})\n          mutationObserver.disconnect()\n        }\n      })\n\n      mutationObserver.observe(this, {childList: true, subtree: true})\n    }\n\n    if (this.remoteInput) {\n      this.remoteInput.addEventListener('loadstart', this, {signal})\n    } else {\n      const mutationObserver = new MutationObserver(() => {\n        if (this.remoteInput) {\n          this.remoteInput.addEventListener('loadstart', this, {signal})\n          mutationObserver.disconnect()\n        }\n      })\n\n      mutationObserver.observe(this, {childList: true, subtree: true})\n    }\n\n    this.#dialogIntersectionObserver = new IntersectionObserver(entries => {\n      for (const entry of entries) {\n        const elem = entry.target\n        if (entry.isIntersecting && elem === this.dialog) {\n          this.updateAnchorPosition()\n\n          if (this.#fetchStrategy === FetchStrategy.LOCAL) {\n            this.#updateItemVisibility()\n          }\n        }\n      }\n    })\n\n    if (this.dialog) {\n      if (this.getAttribute('data-open-on-load') === 'true') {\n        this.#show()\n      }\n\n      this.#dialogIntersectionObserver.observe(this.dialog)\n    } else {\n      const mutationObserver = new MutationObserver(() => {\n        if (this.dialog) {\n          if (this.getAttribute('data-open-on-load') === 'true') {\n            this.#show()\n          }\n\n          this.#dialogIntersectionObserver.observe(this.dialog)\n          mutationObserver.disconnect()\n        }\n      })\n\n      mutationObserver.observe(this, {childList: true, subtree: true})\n    }\n  }\n\n  disconnectedCallback() {\n    this.#abortController.abort()\n  }\n\n  #softDisableItems() {\n    const {signal} = this.#abortController\n\n    for (const item of this.querySelectorAll(validSelectors.join(','))) {\n      item.addEventListener('click', this.#potentiallyDisallowActivation.bind(this), {signal})\n      item.addEventListener('keydown', this.#potentiallyDisallowActivation.bind(this), {signal})\n    }\n  }\n\n  // If there is an active item in single-select mode, set its tabindex to 0. Otherwise, set the\n  // first visible item's tabindex to 0. All other items should have a tabindex of -1.\n  #updateTabIndices() {\n    let setZeroTabIndex = false\n\n    if (this.selectVariant === 'single') {\n      for (const item of this.items) {\n        const itemContent = this.#getItemContent(item)\n        if (!itemContent) continue\n\n        if (!this.isItemHidden(item) && this.isItemChecked(item) && !setZeroTabIndex) {\n          itemContent.setAttribute('tabindex', '0')\n          setZeroTabIndex = true\n        } else {\n          itemContent.setAttribute('tabindex', '-1')\n        }\n\n        // <li> elements should not themselves be tabbable\n        item.removeAttribute('tabindex')\n      }\n    } else {\n      for (const item of this.items) {\n        const itemContent = this.#getItemContent(item)\n        if (!itemContent) continue\n\n        if (!this.isItemHidden(item) && !setZeroTabIndex) {\n          setZeroTabIndex = true\n        } else {\n          itemContent.setAttribute('tabindex', '-1')\n        }\n\n        // <li> elements should not themselves be tabbable\n        item.removeAttribute('tabindex')\n      }\n    }\n\n    if (!setZeroTabIndex && this.#firstItem) {\n      this.#getItemContent(this.#firstItem)?.setAttribute('tabindex', '0')\n    }\n  }\n\n  // returns true if activation was prevented\n  #potentiallyDisallowActivation(event: Event): boolean {\n    if (!this.#isActivation(event)) return false\n\n    const item = (event.target as HTMLElement).closest(visibleMenuItemSelectors)\n    if (!item) return false\n\n    if (item.getAttribute('aria-disabled')) {\n      event.preventDefault()\n\n      event.stopPropagation()\n\n      event.stopImmediatePropagation()\n      return true\n    }\n\n    return false\n  }\n\n  #isAnchorActivationViaSpace(event: Event): boolean {\n    return (\n      event.target instanceof HTMLAnchorElement &&\n      event instanceof KeyboardEvent &&\n      event.type === 'keydown' &&\n      // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n      !(event.ctrlKey || event.altKey || event.metaKey || event.shiftKey) &&\n      // eslint-disable-next-line @github-ui/ui-commands/no-manual-shortcut-logic\n      event.key === ' '\n    )\n  }\n\n  #isActivation(event: Event): boolean {\n    // Some browsers fire MouseEvents (Firefox) and others fire PointerEvents (Chrome). Activating an item via\n    // enter or space counterintuitively fires one of these rather than a KeyboardEvent. Since PointerEvent\n    // inherits from MouseEvent, it is enough to check for MouseEvent here.\n    return (event instanceof MouseEvent && event.type === 'click') || this.#isAnchorActivationViaSpace(event)\n  }\n\n  #checkSelectedItems() {\n    for (const item of this.items) {\n      const value = item.getAttribute('data-value')\n\n      if (value) {\n        if (this.#selectedItems.has(value)) {\n          item.setAttribute(this.ariaSelectionType, 'true')\n        }\n      }\n    }\n    this.#updateInput()\n  }\n\n  #addSelectedItem(item: SelectPanelItem) {\n    const button = item.querySelector('button')!\n    const value = item.getAttribute('data-value')\n\n    if (value) {\n      this.#selectedItems.set(value, {\n        value,\n        label: button.querySelector('.ActionListItem-label')?.textContent?.trim(),\n        inputName: button.getAttribute('data-input-name'),\n        element: item,\n      })\n    }\n  }\n\n  #removeSelectedItem(item: Element) {\n    const value = item.getAttribute('data-value')\n\n    if (value) {\n      this.#selectedItems.delete(value)\n    }\n  }\n\n  #setTextFieldLoadingSpinnerTimer() {\n    if (this.#loadingDelayTimeoutId) clearTimeout(this.#loadingDelayTimeoutId)\n    if (this.#loadingAnnouncementTimeoutId) clearTimeout(this.#loadingAnnouncementTimeoutId)\n\n    this.#loadingAnnouncementTimeoutId = setTimeout(() => {\n      announce('Loading', {element: this.ariaLiveContainer})\n    }, 2000) as unknown as number\n\n    this.#loadingDelayTimeoutId = setTimeout(() => {\n      this.#filterInputTextFieldElement.showLeadingSpinner()\n    }, 1000) as unknown as number\n  }\n\n  handleEvent(event: Event) {\n    if (event.target === this.filterInputTextField) {\n      this.#handleSearchFieldEvent(event)\n      return\n    }\n\n    if (event.target === this.remoteInput) {\n      this.#handleRemoteInputEvent(event)\n      return\n    }\n\n    const targetIsInvoker = this.invokerElement?.contains(event.target as HTMLElement)\n    const targetIsCloseButton = this.closeButton?.contains(event.target as HTMLElement)\n    const eventIsActivation = this.#isActivation(event)\n\n    if (targetIsInvoker && event.type === 'mousedown') {\n      return\n    }\n\n    if (event.type === 'mousedown' && event.target instanceof HTMLInputElement) {\n      return\n    }\n\n    // Prevent safari bug that dismisses menu on mousedown instead of allowing\n    // the click event to propagate to the button\n    if (event.type === 'mousedown') {\n      event.preventDefault()\n      return\n    }\n\n    if (targetIsInvoker && eventIsActivation) {\n      this.#handleInvokerActivated(event)\n      return\n    }\n\n    if (targetIsCloseButton && eventIsActivation) {\n      // #hide will automatically be called by dialog event triggered from `data-close-dialog-id`\n      return\n    }\n\n    const item = (event.target as Element).closest(visibleMenuItemSelectors)?.parentElement as\n      | SelectPanelItem\n      | null\n      | undefined\n\n    const targetIsItem = item !== null && item !== undefined\n\n    if (targetIsItem && eventIsActivation) {\n      if (this.#potentiallyDisallowActivation(event)) return\n\n      const dialogInvoker = item.closest('[data-show-dialog-id]')\n\n      if (dialogInvoker) {\n        const dialog = this.ownerDocument.getElementById(dialogInvoker.getAttribute('data-show-dialog-id') || '')\n\n        if (dialog && this.contains(dialogInvoker) && this.contains(dialog)) {\n          this.#handleDialogItemActivated(event, dialog)\n          return\n        }\n      }\n\n      // Pressing the space key on a link will cause the page to scroll unless preventDefault() is called.\n      // We then click it manually to navigate.\n      if (this.#isAnchorActivationViaSpace(event)) {\n        event.preventDefault()\n        this.#getItemContent(item)?.click()\n      }\n\n      this.#handleItemActivated(item)\n\n      return\n    }\n\n    if (event.type === 'click') {\n      const rect = this.dialog.getBoundingClientRect()\n\n      const clickWasInsideDialog =\n        rect.top <= (event as MouseEvent).clientY &&\n        (event as MouseEvent).clientY <= rect.top + rect.height &&\n        rect.left <= (event as MouseEvent).clientX &&\n        (event as MouseEvent).clientX <= rect.left + rect.width\n\n      if (!clickWasInsideDialog) {\n        this.#hide()\n      }\n    }\n\n    // The include fragment will have been removed from the DOM by the time\n    // the include-fragment-replaced event has been dispatched, so we have to\n    // check for the event type manually here because this.includeFragment\n    // will be null.\n    if (event.target === this.includeFragment || event.type === 'include-fragment-replaced') {\n      this.#handleIncludeFragmentEvent(event)\n    }\n  }\n\n  #handleIncludeFragmentEvent(event: Event) {\n    switch (event.type) {\n      case 'include-fragment-replaced': {\n        this.#updateItemVisibility()\n        break\n      }\n\n      case 'error': {\n        const errorElement = this.fragmentErrorElement\n        // check if the errorElement is visible in the dom\n        if (errorElement && !errorElement.hasAttribute('hidden')) {\n          announceFromElement(errorElement, {element: this.ariaLiveContainer, assertive: true})\n          return\n        }\n\n        break\n      }\n    }\n  }\n\n  #handleRemoteInputEvent(event: Event) {\n    switch (event.type) {\n      case 'remote-input-success': {\n        this.#clearErrorState()\n        this.#updateItemVisibility()\n        this.#checkSelectedItems()\n        break\n      }\n\n      case 'remote-input-error': {\n        this.bodySpinner?.setAttribute('hidden', '')\n\n        if (this.includeFragment || this.visibleItems.length === 0) {\n          this.#setErrorState(ErrorStateType.BODY)\n        } else {\n          this.#setErrorState(ErrorStateType.BANNER)\n        }\n\n        break\n      }\n\n      case 'loadstart': {\n        if (!this.#performFilteringLocally()) {\n          this.#clearErrorState()\n          this.bodySpinner?.removeAttribute('hidden')\n\n          if (this.bodySpinner) break\n          this.#setTextFieldLoadingSpinnerTimer()\n        }\n\n        break\n      }\n\n      case 'loadend': {\n        this.#filterInputTextFieldElement.hideLeadingSpinner()\n        if (this.#loadingAnnouncementTimeoutId) clearTimeout(this.#loadingAnnouncementTimeoutId)\n        if (this.#loadingDelayTimeoutId) clearTimeout(this.#loadingDelayTimeoutId)\n        break\n      }\n    }\n  }\n\n  #defaultFilterFn(item: HTMLElement, query: string) {\n    const text = (item.getAttribute('data-filter-string') || item.textContent || '').toLowerCase()\n    return text.indexOf(query.toLowerCase()) > -1\n  }\n\n  #handleSearchFieldEvent(event: Event) {\n    if (event.type === 'keydown' && (event as KeyboardEvent).key === 'ArrowDown') {\n      if (this.focusableItem) {\n        this.focusableItem.focus()\n        event.preventDefault()\n      }\n    }\n    if (event.type !== 'input') return\n\n    // remote-input-element does not trigger another loadstart event if a request is\n    // already in-flight, so we use the input event on the text field to reset the\n    // loading spinner timer instead\n    if (!this.bodySpinner && !this.#performFilteringLocally()) {\n      this.#setTextFieldLoadingSpinnerTimer()\n    }\n\n    if (this.#fetchStrategy === FetchStrategy.LOCAL || this.#fetchStrategy === FetchStrategy.EVENTUALLY_LOCAL) {\n      if (this.includeFragment) {\n        this.includeFragment.refetch()\n        return\n      }\n\n      this.#updateItemVisibility()\n    }\n  }\n\n  #updateItemVisibility() {\n    if (!this.list) return\n\n    let atLeastOneResult = false\n\n    if (this.#performFilteringLocally()) {\n      const query = this.filterInputTextField?.value ?? ''\n      const filter = this.filterFn || this.#defaultFilterFn\n\n      for (const item of this.items) {\n        if (filter(item, query)) {\n          this.showItem(item)\n          atLeastOneResult = true\n        } else {\n          this.hideItem(item)\n        }\n      }\n    } else {\n      atLeastOneResult = this.items.length > 0\n    }\n\n    this.#updateTabIndices()\n    this.#maybeAnnounce()\n\n    for (const item of this.items) {\n      const value = item.getAttribute('data-value')\n\n      if (value && !this.#selectedItems.has(value) && this.isItemChecked(item)) {\n        this.#addSelectedItem(item)\n      }\n    }\n\n    if (!this.noResults) return\n\n    if (this.#inErrorState()) {\n      this.noResults.setAttribute('hidden', '')\n      return\n    }\n\n    if (atLeastOneResult) {\n      this.noResults.setAttribute('hidden', '')\n      // TODO can we change this to search for `@panelId-list`\n      this.list?.querySelector('.ActionListWrap')?.removeAttribute('hidden')\n    } else {\n      this.list?.querySelector('.ActionListWrap')?.setAttribute('hidden', '')\n      this.noResults.removeAttribute('hidden')\n    }\n  }\n\n  #inErrorState(): boolean {\n    if (this.fragmentErrorElement && !this.fragmentErrorElement.hasAttribute('hidden')) {\n      return true\n    }\n\n    return !this.errorBannerElement.hasAttribute('hidden')\n  }\n\n  #setErrorState(type: ErrorStateType) {\n    let errorElement = this.fragmentErrorElement\n\n    if (type === ErrorStateType.BODY) {\n      this.fragmentErrorElement?.removeAttribute('hidden')\n      this.errorBannerElement.setAttribute('hidden', '')\n    } else {\n      errorElement = this.errorBannerElement\n      this.errorBannerElement?.removeAttribute('hidden')\n      this.fragmentErrorElement?.setAttribute('hidden', '')\n    }\n\n    // check if the errorElement is visible in the dom\n    if (errorElement && !errorElement.hasAttribute('hidden')) {\n      announceFromElement(errorElement, {element: this.ariaLiveContainer, assertive: true})\n      return\n    }\n  }\n\n  #clearErrorState() {\n    this.fragmentErrorElement?.setAttribute('hidden', '')\n    this.errorBannerElement.setAttribute('hidden', '')\n  }\n\n  #maybeAnnounce() {\n    if (this.open && this.list) {\n      const items = this.items\n\n      if (items.length > 0) {\n        const instructions = 'tab for results'\n        announce(`${items.length} result${items.length === 1 ? '' : 's'} ${instructions}`, {\n          element: this.ariaLiveContainer,\n        })\n      } else {\n        const noResultsEl = this.noResults\n        if (noResultsEl) {\n          announceFromElement(noResultsEl, {element: this.ariaLiveContainer})\n        }\n      }\n    }\n  }\n\n  get #fetchStrategy(): FetchStrategy {\n    if (!this.list) return FetchStrategy.REMOTE\n\n    switch (this.list.getAttribute('data-fetch-strategy')) {\n      case 'local':\n        return FetchStrategy.LOCAL\n      case 'eventually_local':\n        return FetchStrategy.EVENTUALLY_LOCAL\n      default:\n        return FetchStrategy.REMOTE\n    }\n  }\n\n  get #filterInputTextFieldElement(): PrimerTextFieldElement {\n    return this.filterInputTextField.closest('primer-text-field') as PrimerTextFieldElement\n  }\n\n  #performFilteringLocally(): boolean {\n    return this.#fetchStrategy === FetchStrategy.LOCAL || this.#fetchStrategy === FetchStrategy.EVENTUALLY_LOCAL\n  }\n\n  #handleInvokerActivated(event: Event) {\n    event.preventDefault()\n\n    event.stopPropagation()\n\n    if (this.open) {\n      this.#hide()\n    } else {\n      this.#show()\n    }\n  }\n\n  #handleDialogItemActivated(event: Event, dialog: HTMLElement) {\n    this.querySelector<HTMLElement>('.ActionListWrap')!.style.display = 'none'\n    const dialog_controller = new AbortController()\n    const {signal} = dialog_controller\n    const handleDialogClose = () => {\n      dialog_controller.abort()\n      this.querySelector<HTMLElement>('.ActionListWrap')!.style.display = ''\n      if (this.open) {\n        this.#hide()\n      }\n      const activeElement = this.ownerDocument.activeElement\n      const lostFocus = this.ownerDocument.activeElement === this.ownerDocument.body\n      const focusInClosedMenu = this.contains(activeElement)\n      if (lostFocus || focusInClosedMenu) {\n        setTimeout(() => this.invokerElement?.focus(), 0)\n      }\n    }\n    // a modal <dialog> element will close all popovers\n    dialog.addEventListener('close', handleDialogClose, {signal})\n    dialog.addEventListener('cancel', handleDialogClose, {signal})\n  }\n\n  #handleItemActivated(item: SelectPanelItem) {\n    // Hide popover after current event loop to prevent changes in focus from\n    // altering the target of the event. Not doing this specifically affects\n    // <a> tags. It causes the event to be sent to the currently focused element\n    // instead of the anchor, which effectively prevents navigation, i.e. it\n    // appears as if hitting enter does nothing. Curiously, clicking instead\n    // works fine.\n    if (this.selectVariant !== 'multiple') {\n      setTimeout(() => {\n        if (this.open) {\n          this.#hide()\n        }\n      })\n    }\n\n    // The rest of the code below deals with single/multiple selection behavior, and should not\n    // interfere with events fired by menu items whose behavior is specified outside the library.\n    if (this.selectVariant !== 'multiple' && this.selectVariant !== 'single') return\n\n    const checked = !this.isItemChecked(item)\n\n    const activationSuccess = this.dispatchEvent(\n      new CustomEvent('beforeItemActivated', {\n        bubbles: true,\n        detail: {item, checked},\n        cancelable: true,\n      }),\n    )\n\n    if (!activationSuccess) return\n\n    const itemContent = this.#getItemContent(item)\n\n    if (this.selectVariant === 'single') {\n      // Only check, never uncheck here. Single-select mode does not allow unchecking a checked item.\n      if (checked) {\n        this.#addSelectedItem(item)\n        itemContent?.setAttribute(this.ariaSelectionType, 'true')\n      }\n\n      for (const checkedItem of this.querySelectorAll(`[${this.ariaSelectionType}]`)) {\n        if (checkedItem !== itemContent) {\n          this.#removeSelectedItem(checkedItem)\n          checkedItem.setAttribute(this.ariaSelectionType, 'false')\n        }\n      }\n\n      this.#setDynamicLabel()\n    } else {\n      // multi-select mode allows unchecking a checked item\n      itemContent?.setAttribute(this.ariaSelectionType, `${checked}`)\n\n      if (checked) {\n        this.#addSelectedItem(item)\n      } else {\n        this.#removeSelectedItem(item)\n      }\n    }\n\n    this.#updateInput()\n\n    this.dispatchEvent(\n      new CustomEvent('itemActivated', {\n        bubbles: true,\n        detail: {item, checked},\n      }),\n    )\n  }\n\n  #show() {\n    this.updateAnchorPosition()\n    this.dialog.showModal()\n    const event = new CustomEvent('dialog:open', {\n      detail: {dialog: this.dialog},\n    })\n    this.dispatchEvent(event)\n  }\n\n  #hide() {\n    this.dialog.close()\n    this.dispatchEvent(\n      new CustomEvent('panelClosed', {\n        detail: {panel: this},\n        bubbles: true,\n      }),\n    )\n  }\n\n  #setDynamicLabel() {\n    if (!this.dynamicLabel) return\n    const invokerLabel = this.invokerLabel\n    if (!invokerLabel) return\n    this.#originalLabel ||= invokerLabel.textContent || ''\n    const itemLabel =\n      this.querySelector(`[${this.ariaSelectionType}=true] .ActionListItem-label`)?.textContent || this.#originalLabel\n    if (itemLabel) {\n      const prefixSpan = document.createElement('span')\n      prefixSpan.classList.add('color-fg-muted')\n      const contentSpan = document.createElement('span')\n      prefixSpan.textContent = `${this.dynamicLabelPrefix} `\n      contentSpan.textContent = itemLabel\n      invokerLabel.replaceChildren(prefixSpan, contentSpan)\n\n      if (this.dynamicAriaLabelPrefix) {\n        this.invokerElement?.setAttribute('aria-label', `${this.dynamicAriaLabelPrefix} ${itemLabel.trim()}`)\n      }\n    } else {\n      invokerLabel.textContent = this.#originalLabel\n    }\n  }\n\n  #updateInput() {\n    if (this.selectVariant === 'single') {\n      const input = this.querySelector(`[data-list-inputs=true] input`) as HTMLInputElement\n      if (!input) return\n\n      const selectedItem = this.selectedItems[0]\n\n      if (selectedItem) {\n        input.value = (selectedItem.value || selectedItem.label || '').trim()\n        if (selectedItem.inputName) input.name = selectedItem.inputName\n        input.removeAttribute('disabled')\n      } else {\n        input.setAttribute('disabled', 'disabled')\n      }\n    } else if (this.selectVariant !== 'none') {\n      // multiple select variant\n      const inputList = this.querySelector('[data-list-inputs=true]')\n      if (!inputList) return\n\n      const inputs = inputList.querySelectorAll('input')\n\n      if (inputs.length > 0) {\n        this.#inputName ||= (inputs[0] as HTMLInputElement).name\n      }\n\n      for (const selectedItem of this.selectedItems) {\n        const newInput = document.createElement('input')\n        newInput.setAttribute('data-list-input', 'true')\n        newInput.type = 'hidden'\n        newInput.autocomplete = 'off'\n        newInput.name = selectedItem.inputName || this.#inputName\n        newInput.value = (selectedItem.value || selectedItem.label || '').trim()\n\n        inputList.append(newInput)\n      }\n\n      for (const input of inputs) {\n        input.remove()\n      }\n    }\n  }\n\n  get #firstItem(): SelectPanelItem | null {\n    return (this.querySelector(visibleMenuItemSelectors)?.parentElement || null) as SelectPanelItem | null\n  }\n\n  get visibleItems(): SelectPanelItem[] {\n    return Array.from(this.querySelectorAll(visibleMenuItemSelectors)).map(\n      element => element.parentElement! as SelectPanelItem,\n    )\n  }\n\n  get items(): SelectPanelItem[] {\n    return Array.from(this.querySelectorAll(menuItemSelectors)).map(\n      element => element.parentElement! as SelectPanelItem,\n    )\n  }\n  get focusableItem(): HTMLElement | undefined {\n    for (const item of this.items) {\n      const itemContent = this.#getItemContent(item)\n      if (!itemContent) continue\n      if (itemContent.getAttribute('tabindex') === '0') {\n        return itemContent\n      }\n    }\n  }\n\n  getItemById(itemId: string): SelectPanelItem | null {\n    return this.querySelector(`li[data-item-id=\"${itemId}\"`)\n  }\n\n  isItemDisabled(item: SelectPanelItem | null): boolean {\n    if (item) {\n      return item.classList.contains('ActionListItem--disabled')\n    } else {\n      return false\n    }\n  }\n\n  disableItem(item: SelectPanelItem | null) {\n    if (item) {\n      item.classList.add('ActionListItem--disabled')\n      this.#getItemContent(item)!.setAttribute('aria-disabled', 'true')\n    }\n  }\n\n  enableItem(item: SelectPanelItem | null) {\n    if (item) {\n      item.classList.remove('ActionListItem--disabled')\n      this.#getItemContent(item)!.removeAttribute('aria-disabled')\n    }\n  }\n\n  isItemHidden(item: SelectPanelItem | null): boolean {\n    if (item) {\n      return item.hasAttribute('hidden')\n    } else {\n      return false\n    }\n  }\n\n  hideItem(item: SelectPanelItem | null) {\n    if (item) {\n      item.setAttribute('hidden', 'hidden')\n    }\n  }\n\n  showItem(item: SelectPanelItem | null) {\n    if (item) {\n      item.removeAttribute('hidden')\n    }\n  }\n\n  isItemChecked(item: SelectPanelItem | null) {\n    if (item) {\n      return this.#getItemContent(item)!.getAttribute(this.ariaSelectionType) === 'true'\n    } else {\n      return false\n    }\n  }\n\n  checkItem(item: SelectPanelItem | null) {\n    if (item && (this.selectVariant === 'single' || this.selectVariant === 'multiple')) {\n      if (!this.isItemChecked(item)) {\n        this.#handleItemActivated(item)\n      }\n    }\n  }\n\n  uncheckItem(item: SelectPanelItem | null) {\n    if (item && (this.selectVariant === 'single' || this.selectVariant === 'multiple')) {\n      if (this.isItemChecked(item)) {\n        this.#handleItemActivated(item)\n      }\n    }\n  }\n\n  #getItemContent(item: SelectPanelItem): HTMLElement | null {\n    return item.querySelector('.ActionListContent')\n  }\n}\n\nif (!window.customElements.get('select-panel-experimental')) {\n  window.SelectPanelExperimentalElement = SelectPanelExperimentalElement\n  window.customElements.define('select-panel-experimental', SelectPanelExperimentalElement)\n}\n\ndeclare global {\n  interface Window {\n    SelectPanelExperimentalElement: typeof SelectPanelExperimentalElement\n  }\n}\n","import {ssrSafeDocument} from '@github-ui/ssr-utils'\nimport {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {\n  announce as liveRegionAnnounce,\n  announceFromElement as liveRegionAnnounceFromElement,\n} from '@primer/live-region-element'\n\nexport interface ElementWithAriaNotify extends Element {\n  ariaNotify: (\n    message: string,\n    options?: {interrupt?: 'none' | 'pending' | 'all'; priority?: 'none' | 'important'},\n  ) => void\n}\n\n/**\n * Troubleshooting guide for aria-live regions available on the Hub\n * - https://thehub.github.com/epd/engineering/dev-practicals/frontend/accessibility/readiness-routine/screenreaders/live-regions-and-focus-management-techniques/#why-isnt-my-live-region-working-as-i-expect\n */\n\n// Announce an element's text to the screen reader.\nexport function announceFromElement(el: HTMLElement, options?: {assertive?: boolean; element?: HTMLElement}) {\n  if (isFeatureEnabled('arianotify_comprehensive_migration')) {\n    announce(getTextContent(el), {...options, element: options?.element ?? el})\n  } else if (isFeatureEnabled('primer_live_region_element') && options?.element === undefined) {\n    liveRegionAnnounceFromElement(el, {\n      politeness: options?.assertive ? 'assertive' : 'polite',\n    })\n  } else {\n    announce(getTextContent(el), options)\n  }\n}\n\n// Announce message update to screen reader.\n// Note: Use caution when using this function while a dialog is active.\n// If the message is updated while the dialog is open, the screen reader may not announce the live region.\n// For more information, view the document on dialog and live region support: https://github.com/github/accessibility/blob/main/docs/dialog-live-region-support.md\nexport function announce(message: string, options?: {assertive?: boolean; element?: HTMLElement}) {\n  const {assertive, element} = options ?? {}\n\n  if (isFeatureEnabled('arianotify_comprehensive_migration') && 'ariaNotify' in Element.prototype) {\n    ;((element || document.body) as Element as ElementWithAriaNotify).ariaNotify(message, {\n      interrupt: options?.assertive ? 'all' : 'none',\n    })\n  } else if (isFeatureEnabled('primer_live_region_element') && element === undefined) {\n    liveRegionAnnounce(message, {\n      politeness: assertive ? 'assertive' : 'polite',\n    })\n  } else {\n    setContainerContent(message, assertive, element)\n  }\n}\n\n// Set aria-live container to message.\nfunction setContainerContent(message: string, assertive?: boolean, element?: HTMLElement) {\n  const getQuerySelector = () => {\n    return assertive ? '#js-global-screen-reader-notice-assertive' : '#js-global-screen-reader-notice'\n  }\n  const container = element ?? ssrSafeDocument?.querySelector(getQuerySelector())\n  if (!container) return\n  if (container.textContent === message) {\n    /* This is a hack due to the way the aria live API works.\n    A screen reader will not read a live region again\n    if the text is the same. Adding a space character tells\n    the browser that the live region has updated,\n    which will cause it to read again, but with no audible difference. */\n    container.textContent = `${message}\\u00A0`\n  } else {\n    container.textContent = message\n  }\n}\n\n// Gets the trimmed text content of an element.\nfunction getTextContent(el: HTMLElement): string {\n  // innerText does not contain hidden text\n  /* eslint-disable-next-line github/no-innerText */\n  return (el.getAttribute('aria-label') || el.innerText || '').trim()\n}\n","export interface ClientEnvironment {\n  readonly locale: string\n  readonly featureFlags: string[]\n  readonly login?: string\n}\n\nlet env: ClientEnvironment | undefined\n\nexport function getEnv() {\n  if (!env) {\n    throw new Error(\n      'Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.',\n    )\n  }\n\n  return env\n}\n\nexport function getLocale() {\n  return env?.locale ?? 'en-US'\n}\n\nexport function isLoggedIn() {\n  return !!getEnv().login\n}\n\nexport function getCurrentUserLogin() {\n  return getEnv().login\n}\n\nfunction loadEnv() {\n  if (typeof document !== 'undefined') {\n    const envTag = document.getElementById('client-env')\n    if (envTag) {\n      try {\n        env = JSON.parse(envTag.textContent || '')\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error('Error parsing client-env', error)\n      }\n    }\n  }\n}\n\n// Automatically load the env on initial page load\nloadEnv()\n\n// This is a special helper method for setting the env in the SSR environment only\nexport function setClientEnvForSsr(clientEnv: ClientEnvironment | undefined) {\n  env = clientEnv\n}\n\n// This env object is used as a default for tests only and is not included in production builds\nexport const clientEnvForTests: ClientEnvironment = {\n  locale: 'en',\n  featureFlags: ['test_flag'],\n}\n\nexport function _resetForTests({loadNewEnv, forceUndefined}: {loadNewEnv: boolean; forceUndefined?: boolean}) {\n  // forget the current env\n  env = forceUndefined ? undefined : clientEnvForTests\n\n  if (loadNewEnv) {\n    // load the latest env\n    loadEnv()\n  }\n}\n","import memoize from '@github/memoize'\nimport {getEnv} from '@github-ui/client-env'\nimport {IS_SERVER} from '@github-ui/ssr-utils'\n\nfunction getEnabledFeaturesSet(): Set<string> {\n  const features = getEnv().featureFlags\n  const featuresUpperCase = features.map(feature => feature.toLowerCase())\n  return new Set<string>(featuresUpperCase)\n}\n\nconst featuresSet =\n  IS_SERVER || process.env.NODE_ENV === 'test' ? getEnabledFeaturesSet : memoize(getEnabledFeaturesSet)\n\nexport function getEnabledFeatures(): string[] {\n  return Array.from(featuresSet())\n}\n\nexport function isFeatureEnabled(name: string): boolean {\n  return featuresSet().has(name.toLowerCase())\n}\n\n//exported to allow mocking in tests\nconst featureFlag = {isFeatureEnabled}\n\nexport {featureFlag}\n","// When using SSR, browser globals are not available. If you try to use them, Node.js will throw an error\ntype SSRSafeLocation = Pick<Location, 'pathname' | 'origin' | 'search' | 'hash' | 'href'>\n\n// In some cases, we want to force the server environment to be used in the browser. This is useful for testing/profiling\nconst forceServer = typeof FORCE_SERVER_ENV !== 'undefined' ? FORCE_SERVER_ENV : false\n\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeDocument = typeof document === 'undefined' || forceServer ? undefined : document\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeWindow = typeof window === 'undefined' || forceServer ? undefined : window\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\nexport const ssrSafeHistory = typeof history === 'undefined' || forceServer ? undefined : history\n\nexport const ssrSafeLocation: SSRSafeLocation =\n  // eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\n  typeof location === 'undefined' || forceServer ? {pathname: '', origin: '', search: '', hash: '', href: ''} : location\n\nexport function setLocation(url: string) {\n  // eslint-disable-next-line no-restricted-syntax\n  const parsedURL: SSRSafeLocation = new URL(url)\n  const {pathname, origin, search, hash} = parsedURL\n\n  Object.assign(ssrSafeLocation, {pathname, origin, search, hash})\n}\n","import {ssrSafeDocument} from './ssr-globals'\n\n/***\n * Are we rendering on the server?\n */\nexport const IS_SERVER = typeof ssrSafeDocument === 'undefined'\n\n/***\n * Are we rendering on the client?\n */\nexport const IS_BROWSER = !IS_SERVER\n\n/***\n * This helper returns `true` if:\n * - we are rendering on the server\n * - we are on the client, and the app has been hydrated from a server-render\n */\nexport function wasServerRendered() {\n  if (IS_SERVER || !ssrSafeDocument) {\n    return true\n  }\n\n  return Boolean(\n    ssrSafeDocument.querySelector('react-app[data-ssr=\"true\"]') ||\n      ssrSafeDocument.querySelector('react-partial[data-ssr=\"true\"][partial-name=\"repos-overview\"]'),\n  )\n}\n","export function defaultHash(...args) {\n    // JSON.stringify ellides `undefined` and function values by default. We do not want that.\n    return JSON.stringify(args, (_, v) => (typeof v === 'object' ? v : String(v)));\n}\nexport default function memoize(fn, opts = {}) {\n    const { hash = defaultHash, cache = new Map() } = opts;\n    return function (...args) {\n        const id = hash.apply(this, args);\n        if (cache.has(id))\n            return cache.get(id);\n        let result = fn.apply(this, args);\n        if (result instanceof Promise) {\n            // eslint-disable-next-line github/no-then\n            result = result.catch(error => {\n                cache.delete(id);\n                throw error;\n            });\n        }\n        cache.set(id, result);\n        return result;\n    };\n}\n","const Ordering = {\n  Less: \"less\",\n  Equal: \"equal\",\n  Greater: \"greater\"\n};\n\nvar __accessCheck$2 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter) => {\n  __accessCheck$2(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter) => {\n  __accessCheck$2(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod$1 = (obj, member, method) => {\n  __accessCheck$2(obj, member, \"access private method\");\n  return method;\n};\nvar _compareFn, _heap, _heapifyDown, heapifyDown_fn, _heapifyUp, heapifyUp_fn;\nclass MinHeap {\n  constructor({ compareFn }) {\n    __privateAdd$2(this, _heapifyDown);\n    __privateAdd$2(this, _heapifyUp);\n    __privateAdd$2(this, _compareFn, void 0);\n    __privateAdd$2(this, _heap, void 0);\n    __privateSet$2(this, _compareFn, compareFn);\n    __privateSet$2(this, _heap, []);\n  }\n  insert(value) {\n    __privateGet$2(this, _heap).push(value);\n    __privateMethod$1(this, _heapifyUp, heapifyUp_fn).call(this);\n  }\n  pop() {\n    const item = __privateGet$2(this, _heap)[0];\n    if (__privateGet$2(this, _heap)[__privateGet$2(this, _heap).length - 1]) {\n      __privateGet$2(this, _heap)[0] = __privateGet$2(this, _heap)[__privateGet$2(this, _heap).length - 1];\n      __privateGet$2(this, _heap).pop();\n    }\n    __privateMethod$1(this, _heapifyDown, heapifyDown_fn).call(this);\n    return item;\n  }\n  peek() {\n    return __privateGet$2(this, _heap)[0];\n  }\n  delete(value) {\n    const index = __privateGet$2(this, _heap).indexOf(value);\n    if (index === -1) {\n      return;\n    }\n    swap(__privateGet$2(this, _heap), index, __privateGet$2(this, _heap).length - 1);\n    __privateGet$2(this, _heap).pop();\n    __privateMethod$1(this, _heapifyDown, heapifyDown_fn).call(this);\n  }\n  clear() {\n    __privateSet$2(this, _heap, []);\n  }\n  get size() {\n    return __privateGet$2(this, _heap).length;\n  }\n}\n_compareFn = new WeakMap();\n_heap = new WeakMap();\n_heapifyDown = new WeakSet();\nheapifyDown_fn = function() {\n  let index = 0;\n  while (hasLeftChild(index, __privateGet$2(this, _heap).length)) {\n    let smallerChildIndex = getLeftChildIndex(index);\n    if (hasRightChild(index, __privateGet$2(this, _heap).length) && __privateGet$2(this, _compareFn).call(this, rightChild(__privateGet$2(this, _heap), index), leftChild(__privateGet$2(this, _heap), index)) === Ordering.Less) {\n      smallerChildIndex = getRightChildIndex(index);\n    }\n    if (__privateGet$2(this, _compareFn).call(this, __privateGet$2(this, _heap)[index], __privateGet$2(this, _heap)[smallerChildIndex]) === Ordering.Less) {\n      break;\n    } else {\n      swap(__privateGet$2(this, _heap), index, smallerChildIndex);\n    }\n    index = smallerChildIndex;\n  }\n};\n_heapifyUp = new WeakSet();\nheapifyUp_fn = function() {\n  let index = __privateGet$2(this, _heap).length - 1;\n  while (hasParent(index) && __privateGet$2(this, _compareFn).call(this, __privateGet$2(this, _heap)[index], parent(__privateGet$2(this, _heap), index)) === Ordering.Less) {\n    swap(__privateGet$2(this, _heap), index, getParentIndex(index));\n    index = getParentIndex(index);\n  }\n};\nfunction getLeftChildIndex(index) {\n  return 2 * index + 1;\n}\nfunction getRightChildIndex(index) {\n  return 2 * index + 2;\n}\nfunction getParentIndex(index) {\n  return Math.floor((index - 1) / 2);\n}\nfunction hasLeftChild(index, size) {\n  return getLeftChildIndex(index) < size;\n}\nfunction hasRightChild(index, size) {\n  return getRightChildIndex(index) < size;\n}\nfunction hasParent(index) {\n  return index > 0;\n}\nfunction leftChild(heap, index) {\n  return heap[getLeftChildIndex(index)];\n}\nfunction rightChild(heap, index) {\n  return heap[getRightChildIndex(index)];\n}\nfunction parent(heap, index) {\n  return heap[getParentIndex(index)];\n}\nfunction swap(heap, a, b) {\n  const tmp = heap[a];\n  heap[a] = heap[b];\n  heap[b] = tmp;\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck$1 = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter) => {\n  __accessCheck$1(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter) => {\n  __accessCheck$1(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _a, _promise, _resolve, _reject;\nclass Deferred {\n  constructor() {\n    __publicField(this, _a, \"Deferred\");\n    __privateAdd$1(this, _promise, void 0);\n    __privateAdd$1(this, _resolve, void 0);\n    __privateAdd$1(this, _reject, void 0);\n    __privateSet$1(this, _promise, new Promise((resolve, reject) => {\n      __privateSet$1(this, _resolve, resolve);\n      __privateSet$1(this, _reject, reject);\n    }));\n  }\n  then(onfulfilled, onrejected) {\n    return Promise.prototype.then.apply(__privateGet$1(this, _promise), [onfulfilled, onrejected]);\n  }\n  catch(onrejected) {\n    return Promise.prototype.catch.apply(__privateGet$1(this, _promise), [onrejected]);\n  }\n  finally(onfinally) {\n    return Promise.prototype.finally.apply(__privateGet$1(this, _promise), [onfinally]);\n  }\n  resolve(value) {\n    __privateGet$1(this, _resolve).call(this, value);\n  }\n  reject(reason) {\n    __privateGet$1(this, _reject).call(this, reason);\n  }\n  getPromise() {\n    return __privateGet$1(this, _promise);\n  }\n}\n_a = Symbol.toStringTag;\n_promise = new WeakMap();\n_resolve = new WeakMap();\n_reject = new WeakMap();\n\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _pending, _queue, _timeoutId, _performWork, performWork_fn, _updateContainerWithMessage, updateContainerWithMessage_fn;\nconst DEFAULT_THROTTLE_DELAY_MS = 150;\nclass LiveRegionElement extends HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _performWork);\n    __privateAdd(this, _updateContainerWithMessage);\n    /**\n     * A flag to indicate if a message has been announced and we are currently\n     * waiting for the delay to pass before announcing the next message.\n     */\n    __privateAdd(this, _pending, void 0);\n    /**\n     * A priority queue to store messages to be announced by the live region.\n     */\n    __privateAdd(this, _queue, void 0);\n    /**\n     * The id for a timeout being used by the live region to either wait until the\n     * next message or wait until the delay has passed before announcing the next\n     * message\n     */\n    __privateAdd(this, _timeoutId, void 0);\n    if (!this.shadowRoot) {\n      const template2 = getTemplate();\n      const shadowRoot = this.attachShadow({ mode: \"open\" });\n      shadowRoot.appendChild(template2.content.cloneNode(true));\n    }\n    __privateSet(this, _pending, false);\n    __privateSet(this, _timeoutId, null);\n    __privateSet(this, _queue, new MinHeap({\n      compareFn: compareMessages\n    }));\n  }\n  /**\n   * The delay in milliseconds to wait between announcements. This helps to\n   * prevent announcements getting dropped if multiple are made at the same time.\n   */\n  get delay() {\n    const value = this.getAttribute(\"delay\");\n    if (value) {\n      return parseInt(value, 10);\n    }\n    return DEFAULT_THROTTLE_DELAY_MS;\n  }\n  set delay(value) {\n    this.setAttribute(\"delay\", `${value}`);\n  }\n  /**\n   * Announce a message using a live region with a corresponding politeness\n   * level.\n   */\n  announce(message, options = {}) {\n    const { delayMs, politeness = \"polite\" } = options;\n    const now = Date.now();\n    const deferred = new Deferred();\n    const item = {\n      deferred,\n      politeness,\n      contents: message,\n      scheduled: delayMs !== void 0 ? now + delayMs : now\n    };\n    __privateGet(this, _queue).insert(item);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n    return {\n      ...deferred.getPromise(),\n      cancel: () => {\n        __privateGet(this, _queue).delete(item);\n        deferred.resolve();\n      }\n    };\n  }\n  /**\n   * Announce a message using the text content of an element with a\n   * corresponding politeness level\n   */\n  announceFromElement(element, options) {\n    const textContent = getTextContent(element);\n    if (textContent !== \"\") {\n      return this.announce(textContent, options);\n    }\n    const promise = Promise.resolve();\n    return {\n      ...promise,\n      cancel: noop\n    };\n  }\n  getMessage(politeness = \"polite\") {\n    const container = this.shadowRoot?.getElementById(politeness);\n    if (!container) {\n      throw new Error(\"Unable to find container for message\");\n    }\n    return container.textContent;\n  }\n  /**\n   * Prevent pending messages from being announced by the live region.\n   */\n  clear() {\n    if (__privateGet(this, _timeoutId) !== null) {\n      clearTimeout(__privateGet(this, _timeoutId));\n      __privateSet(this, _timeoutId, null);\n    }\n    __privateGet(this, _queue).clear();\n  }\n}\n_pending = new WeakMap();\n_queue = new WeakMap();\n_timeoutId = new WeakMap();\n_performWork = new WeakSet();\nperformWork_fn = function() {\n  if (__privateGet(this, _pending)) {\n    return;\n  }\n  let message = __privateGet(this, _queue).peek();\n  if (!message) {\n    return;\n  }\n  if (__privateGet(this, _timeoutId) !== null) {\n    clearTimeout(__privateGet(this, _timeoutId));\n    __privateSet(this, _timeoutId, null);\n  }\n  const now = Date.now();\n  if (message.scheduled <= now) {\n    message = __privateGet(this, _queue).pop();\n    if (message) {\n      __privateMethod(this, _updateContainerWithMessage, updateContainerWithMessage_fn).call(this, message);\n    }\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n    return;\n  }\n  const timeout = message.scheduled - now;\n  __privateSet(this, _timeoutId, window.setTimeout(() => {\n    __privateSet(this, _timeoutId, null);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n  }, timeout));\n};\n_updateContainerWithMessage = new WeakSet();\nupdateContainerWithMessage_fn = function(message) {\n  __privateSet(this, _pending, true);\n  const { contents, deferred, politeness } = message;\n  const container = this.shadowRoot?.getElementById(politeness);\n  if (!container) {\n    __privateSet(this, _pending, false);\n    throw new Error(`Unable to find container for message. Expected a container with id=\"${politeness}\"`);\n  }\n  if (container.textContent === contents) {\n    container.textContent = `${contents}\\xA0`;\n  } else {\n    container.textContent = contents;\n  }\n  if (__privateGet(this, _timeoutId) !== null) {\n    clearTimeout(__privateGet(this, _timeoutId));\n  }\n  deferred.resolve();\n  if (this.delay > 0) {\n    __privateSet(this, _timeoutId, window.setTimeout(() => {\n      __privateSet(this, _timeoutId, null);\n      __privateSet(this, _pending, false);\n      __privateMethod(this, _performWork, performWork_fn).call(this);\n    }, this.delay));\n  } else {\n    __privateSet(this, _timeoutId, null);\n    __privateSet(this, _pending, false);\n    __privateMethod(this, _performWork, performWork_fn).call(this);\n  }\n};\nfunction getTextContent(element) {\n  let value = \"\";\n  if (element.hasAttribute(\"aria-label\")) {\n    value = element.getAttribute(\"aria-label\");\n  } else if (element.innerText) {\n    value = element.innerText;\n  } else if (element.textContent) {\n    value = element.textContent;\n  }\n  return value ? value.trim() : \"\";\n}\nlet template = null;\nconst templateContent = `\n<style>\n:host {\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n</style>\n<div id=\"polite\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n<div id=\"assertive\" aria-live=\"assertive\" aria-atomic=\"true\"></div>\n`;\nfunction getTemplate() {\n  if (template) {\n    return template;\n  }\n  template = document.createElement(\"template\");\n  template.innerHTML = templateContent;\n  return template;\n}\nfunction compareMessages(a, b) {\n  if (a.politeness === b.politeness) {\n    if (a.scheduled === b.scheduled) {\n      return Ordering.Equal;\n    }\n    if (a.scheduled < b.scheduled) {\n      return Ordering.Less;\n    }\n    return Ordering.Greater;\n  }\n  if (a.politeness === \"assertive\" && b.politeness !== \"assertive\") {\n    return Ordering.Less;\n  }\n  if (a.politeness !== \"assertive\" && b.politeness === \"assertive\") {\n    return Ordering.Greater;\n  }\n  return Ordering.Equal;\n}\nfunction noop() {\n}\n\nif (!customElements.get(\"live-region\")) {\n  customElements.define(\"live-region\", LiveRegionElement);\n}\n\nfunction announce(message, options = {}) {\n  let liveRegion = findLiveRegion(options.from);\n  if (!liveRegion) {\n    liveRegion = document.createElement(\"live-region\");\n    if (options.appendTo) {\n      options.appendTo.appendChild(liveRegion);\n    } else {\n      const container = getLiveRegionContainer(options.from);\n      container.appendChild(liveRegion);\n    }\n    if (process.env.NODE_ENV === \"test\") {\n      return liveRegion.announce(message, options);\n    }\n    let canceled = false;\n    let cancel = () => {\n      canceled = true;\n    };\n    const promise = wait(REGISTER_WAIT_MS).then(() => {\n      if (!canceled) {\n        const result = liveRegion.announce(message, options);\n        cancel = result.cancel;\n        return result;\n      }\n    });\n    return {\n      ...promise,\n      cancel: () => {\n        cancel();\n      }\n    };\n  }\n  return liveRegion.announce(message, options);\n}\nfunction announceFromElement(element, options = {}) {\n  let liveRegion = findLiveRegion(options.from);\n  if (!liveRegion) {\n    liveRegion = document.createElement(\"live-region\");\n    if (options.appendTo) {\n      options.appendTo.appendChild(liveRegion);\n    } else {\n      const container = getLiveRegionContainer(options.from);\n      container.appendChild(liveRegion);\n    }\n    if (process.env.NODE_ENV === \"test\") {\n      return liveRegion.announceFromElement(element, options);\n    }\n    let canceled = false;\n    let cancel = () => {\n      canceled = true;\n    };\n    const promise = wait(REGISTER_WAIT_MS).then(() => {\n      if (!canceled) {\n        const result = liveRegion.announceFromElement(element, options);\n        cancel = result.cancel;\n        return result;\n      }\n    });\n    return {\n      ...promise,\n      cancel: () => {\n        cancel();\n      }\n    };\n  }\n  return liveRegion.announceFromElement(element, options);\n}\nfunction findLiveRegion(from) {\n  let liveRegion = null;\n  liveRegion = from ? getClosestLiveRegion(from) : null;\n  if (liveRegion !== null) {\n    return liveRegion;\n  }\n  const container = getLiveRegionContainer(from);\n  liveRegion = container.querySelector(\"live-region\");\n  if (liveRegion !== null) {\n    return liveRegion;\n  }\n  return null;\n}\nfunction getClosestLiveRegion(from) {\n  const dialog = from.closest(\"dialog\");\n  let current = from;\n  while (current = current.parentElement) {\n    if (dialog && !dialog.contains(current)) {\n      break;\n    }\n    for (const child of current.childNodes) {\n      if (child instanceof LiveRegionElement) {\n        return child;\n      }\n    }\n  }\n  return null;\n}\nfunction getLiveRegionContainer(from) {\n  let container = document.body;\n  if (from) {\n    const dialog = from.closest(\"dialog\");\n    if (dialog) {\n      container = dialog;\n    }\n  }\n  return container;\n}\nconst REGISTER_WAIT_MS = 150;\nfunction wait(ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport { LiveRegionElement, announce, announceFromElement, templateContent };\n"],"names":["validSelectors","menuItemSelectors","join","visibleMenuItemSelectors","map","selector","FetchStrategy","ErrorStateType","updateWhenVisible","anchors","Set","resizeObserver","updateVisibleAnchors","anchor","updateAnchorPosition","window","addEventListener","ResizeObserver","observe","el","ownerDocument","documentElement","delete","add","SelectPanelExperimentalElement","HTMLElement","open","dialog","selectVariant","getAttribute","ariaSelectionType","variant","setAttribute","removeAttribute","dynamicLabelPrefix","prefix","dynamicAriaLabelPrefix","value","dynamicLabel","hasAttribute","toggleAttribute","invokerElement","id","querySelector","querySelectorAll","closeButton","invokerLabel","selectedItems","Array","from","values","align","side","offsetParent","close","top","left","getAnchoredPosition","anchorOffset","style","bottom","right","scrollIntoView","block","inline","connectedCallback","signal","AbortController","remoteInput","mutationObserver","MutationObserver","disconnect","childList","subtree","includeFragment","IntersectionObserver","entries","entry","elem","target","isIntersecting","disconnectedCallback","abort","handleEvent","event","filterInputTextField","targetIsInvoker","contains","targetIsCloseButton","eventIsActivation","type","HTMLInputElement","preventDefault","item","closest","parentElement","targetIsItem","dialogInvoker","getElementById","click","rect","getBoundingClientRect","clientY","height","clientX","width","visibleItems","element","items","focusableItem","itemContent","getItemById","itemId","isItemDisabled","classList","disableItem","enableItem","remove","isItemHidden","hideItem","showItem","isItemChecked","checkItem","uncheckItem","Map","bind","setZeroTabIndex","stopPropagation","stopImmediatePropagation","HTMLAnchorElement","KeyboardEvent","ctrlKey","altKey","metaKey","shiftKey","key","MouseEvent","has","button","set","label","textContent","trim","inputName","clearTimeout","setTimeout","announce","ariaLiveContainer","showLeadingSpinner","errorElement","fragmentErrorElement","announceFromElement","assertive","bodySpinner","length","hideLeadingSpinner","query","text","toLowerCase","indexOf","focus","refetch","list","atLeastOneResult","filter","filterFn","noResults","errorBannerElement","noResultsEl","display","dialog_controller","handleDialogClose","activeElement","lostFocus","body","focusInClosedMenu","checked","dispatchEvent","CustomEvent","bubbles","detail","cancelable","checkedItem","showModal","panel","itemLabel","prefixSpan","document","createElement","contentSpan","replaceChildren","input","selectedItem","name","inputList","inputs","newInput","autocomplete","append","customElements","get","define","options","isFeatureEnabled","getTextContent","undefined","liveRegionAnnounceFromElement","politeness","message","Element","prototype","ariaNotify","interrupt","liveRegionAnnounce","setContainerContent","container","ssrSafeDocument","innerText","env","getEnv","getLocale","locale","isLoggedIn","login","loadEnv","envTag","JSON","parse","error","console","getEnabledFeaturesSet","features","featureFlags","feature","featuresSet","IS_SERVER","memoize","getEnabledFeatures","featureFlag","forceServer","FORCE_SERVER_ENV","ssrSafeWindow","ssrSafeHistory","history","ssrSafeLocation","location","pathname","origin","search","hash","href","IS_BROWSER","wasServerRendered","Boolean","defaultHash","args","stringify","_","v","String","fn","opts","cache","apply","result","Promise","catch","Ordering","Less","Equal","Greater","_compareFn","_heap","_heapifyDown","heapifyDown_fn","_heapifyUp","heapifyUp_fn","_a","_promise","_resolve","_reject","_pending","_queue","_timeoutId","_performWork","performWork_fn","_updateContainerWithMessage","updateContainerWithMessage_fn","__accessCheck$2","obj","member","msg","TypeError","__privateGet$2","getter","call","__privateAdd$2","WeakSet","__privateSet$2","setter","__privateMethod$1","method","MinHeap","constructor","compareFn","insert","push","pop","peek","index","swap","clear","size","getParentIndex","Math","floor","heap","a","b","tmp","WeakMap","getLeftChildIndex","smallerChildIndex","hasParent","__defProp","Object","defineProperty","__defNormalProp","enumerable","configurable","writable","__publicField","__accessCheck$1","__privateGet$1","__privateAdd$1","__privateSet$1","Deferred","resolve","reject","then","onfulfilled","onrejected","finally","onfinally","reason","getPromise","Symbol","toStringTag","__accessCheck","__privateGet","__privateAdd","__privateSet","__privateMethod","LiveRegionElement","shadowRoot","template2","template","innerHTML","templateContent","attachShadow","mode","appendChild","content","cloneNode","compareMessages","delay","parseInt","delayMs","now","Date","deferred","contents","scheduled","cancel","noop","getMessage","timeout","liveRegion","findLiveRegion","appendTo","canceled","wait","REGISTER_WAIT_MS","getClosestLiveRegion","current","child","childNodes","getLiveRegionContainer","ms"],"sourceRoot":""}