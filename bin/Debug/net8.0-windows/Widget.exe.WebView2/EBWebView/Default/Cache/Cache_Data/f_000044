{"version":3,"file":"chunk-app_components_search_custom-scopes-element_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/components/search/custom-scopes-element.ts","node_modules/@github/jtml/node_modules/@github/template-parts/lib/template-string-parser.js","node_modules/@github/jtml/node_modules/@github/template-parts/lib/attribute-template-part.js","node_modules/@github/jtml/node_modules/@github/template-parts/lib/node-template-part.js","node_modules/@github/jtml/node_modules/@github/template-parts/lib/processors.js","node_modules/@github/jtml/node_modules/@github/template-parts/lib/template-instance.js","node_modules/@github/jtml/lib/template-result.js","node_modules/@github/jtml/lib/render.js","node_modules/@github/jtml/lib/directive.js","node_modules/@github/jtml/lib/events.js","node_modules/@github/jtml/lib/processor.js","node_modules/@github/jtml/lib/sub-template.js","node_modules/@github/jtml/lib/document-fragment.js","node_modules/@github/jtml/lib/iterable.js","node_modules/@github/jtml/lib/html.js","node_modules/@github/jtml/lib/until.js","node_modules/@github/jtml/lib/unsafe-html.js"],"sourcesContent":["import {controller, target} from '@github/catalyst'\nimport {html, render} from '@github-ui/jtml-shimmed'\nimport type {CustomScope} from './suggestions/types'\nimport type {ModalDialogElement} from '@primer/view-components/app/components/primer/alpha/modal_dialog'\nimport type {CustomScopeCache} from './providers/saved'\n\nfunction PencilIcon() {\n  const icon = document.getElementById('pencil-icon') as HTMLTemplateElement\n  return html([icon?.innerHTML] as unknown as TemplateStringsArray)\n}\n\nfunction TrashIcon() {\n  const icon = document.getElementById('trash-icon') as HTMLTemplateElement\n  return html([icon?.innerHTML] as unknown as TemplateStringsArray)\n}\n\n@controller\nexport class CustomScopesElement extends HTMLElement {\n  @target list: HTMLDivElement\n  @target createCustomScopeForm: HTMLDivElement\n  @target manageCustomScopesForm: HTMLDivElement\n\n  @target customScopesModalDialog: ModalDialogElement | HTMLDialogElement\n  @target customScopesModalDialogFlash: HTMLDivElement\n  @target customScopesIdField: HTMLInputElement\n  @target customScopesNameField: HTMLInputElement\n  @target customScopesQueryField: HTMLInputElement\n  @target customScopesSubmitButton: HTMLButtonElement\n\n  #maxCustomScopes: number\n  #cache?: CustomScopeCache\n  #fetchScopes: () => Promise<CustomScope[]> = () => Promise.resolve([])\n  #customScopesUrlPath: string\n  #deleteCSRF: string\n\n  hasScopes = false\n\n  connectedCallback(): void {\n    this.#maxCustomScopes = parseInt(this.getAttribute('data-max-custom-scopes') || '10', 10)\n  }\n\n  initialize(\n    cache: CustomScopeCache,\n    fetch: () => Promise<CustomScope[]>,\n    customScopesUrlPath: string,\n    deleteCSRF: string,\n  ) {\n    this.#cache = cache\n    this.#fetchScopes = fetch\n    this.#customScopesUrlPath = customScopesUrlPath\n    this.#deleteCSRF = deleteCSRF\n  }\n\n  mode(): 'create' | 'manage' {\n    if (this.createCustomScopeForm.hidden) {\n      return 'manage'\n    }\n    return 'create'\n  }\n\n  customScopesSubmit(event: SubmitEvent) {\n    if (this.mode() === 'manage') {\n      this.create('')\n    } else {\n      this.saveCustomScope(event)\n    }\n  }\n\n  customScopesCancel() {\n    if (this.mode() === 'manage' || !this.hasScopes) {\n      this.customScopesModalDialog.close()\n    } else {\n      this.setMode('manage')\n    }\n  }\n\n  setMode(mode: 'create' | 'manage') {\n    if (this.hasScopes && mode === 'manage') {\n      this.createCustomScopeForm.hidden = true\n      this.manageCustomScopesForm.hidden = false\n      // eslint-disable-next-line i18n-text/no-en\n      this.#updateCustomScopesModalDialogText('Saved searches', 'Create saved search')\n    } else {\n      this.createCustomScopeForm.hidden = false\n      this.manageCustomScopesForm.hidden = true\n    }\n  }\n\n  #updateCustomScopesModalDialogText(title: string, button: string) {\n    this.customScopesSubmitButton.textContent = button\n\n    // Get title by tag name as it's not exposed in the API for modal dialog\n    this.customScopesModalDialog.getElementsByTagName('h1')[0]!.textContent = title\n  }\n\n  #checkCustomScopesLimit(isNewScope: boolean) {\n    const atCustomScopesMax = isNewScope && (this.#cache?.len() || 0) >= this.#maxCustomScopes\n\n    if (atCustomScopesMax) {\n      this.customScopesModalDialogFlash.innerHTML = `\n        <div class=\"flash flash-warn mb-3\">\n          Limit of 10 saved searches reached. Please delete an existing saved search before creating a new one.\n        </div>\n      `\n    } else {\n      this.customScopesModalDialogFlash.textContent = ''\n    }\n    this.customScopesSubmitButton.disabled = atCustomScopesMax\n  }\n\n  async saveCustomScope(event: SubmitEvent) {\n    event.preventDefault()\n\n    const form = (event.target as HTMLButtonElement).form!\n    if (!form.checkValidity()) {\n      form.reportValidity()\n      return\n    }\n\n    const response = await fetch(form.action, {\n      method: 'POST',\n      body: new FormData(form),\n    })\n    if (response.ok) {\n      this.#cache?.clear()\n      const scopes = await this.#fetchScopes()\n      this.setScopes(scopes)\n      form.reset()\n      this.setMode('manage')\n    }\n  }\n\n  async show() {\n    // Load the custom scopes and insert them...\n    const scopes = await this.#fetchScopes()\n    this.setScopes(scopes)\n    if (this.customScopesModalDialog instanceof HTMLDialogElement) {\n      this.customScopesModalDialog.showModal()\n    } else {\n      this.customScopesModalDialog.show()\n    }\n    this.setMode('manage')\n  }\n\n  openCustomScopesDialog(event: Event) {\n    if (this.customScopesModalDialog instanceof HTMLDialogElement) {\n      this.customScopesModalDialog.showModal()\n    } else {\n      this.customScopesModalDialog.show()\n    }\n    // Stop propagation so that the scope isn't also selected\n    event.stopPropagation()\n  }\n\n  async editCustomScope(event: Event) {\n    event.stopPropagation()\n    event.preventDefault()\n\n    let id: string | null = (event.target as HTMLElement).getAttribute('data-id')\n    if (!id) {\n      // Sometimes the octicon can intercept the click target for some reason, then try the parent\n      id = (event.target as HTMLElement).closest('button')?.getAttribute('data-id') || null\n    }\n\n    const customScope = await this.#findCustomScopeById(id)\n    if (!id || !customScope) return\n\n    // eslint-disable-next-line i18n-text/no-en\n    this.#updateCustomScopesModalDialogText('Update saved search', 'Update saved search')\n    this.customScopesIdField.value = customScope.id\n    this.customScopesNameField.value = customScope.name\n    this.customScopesQueryField.value = customScope.query\n    this.#checkCustomScopesLimit(false)\n\n    this.setMode('create')\n  }\n\n  create(query: string) {\n    // eslint-disable-next-line i18n-text/no-en\n    this.#updateCustomScopesModalDialogText('Create saved search', 'Create saved search')\n    this.customScopesIdField.value = ''\n    this.customScopesNameField.value = ''\n    this.customScopesQueryField.value = query\n    if (this.customScopesModalDialog instanceof HTMLDialogElement) {\n      this.customScopesModalDialog.showModal()\n    } else {\n      this.customScopesModalDialog.show()\n    }\n    this.#checkCustomScopesLimit(true)\n    this.setMode('create')\n  }\n\n  async #findCustomScopeById(id: string | null): Promise<CustomScope | undefined> {\n    let scopes = this.#cache?.get()\n    if (scopes === undefined) {\n      scopes = await this.#fetchScopes()\n    }\n    return scopes.find(scope => scope.id.toString() === id)\n  }\n\n  async deleteCustomScope(event: Event) {\n    const url = this.#customScopesUrlPath\n\n    let id: string | null = (event.target as HTMLElement).getAttribute('data-id')\n    if (!id) {\n      // Sometimes the octicon can intercept the click target for some reason, then try the parent\n      id = (event.target as HTMLElement).closest('button')?.getAttribute('data-id') || null\n    }\n    if (!url || !id) return\n\n    const formData = new FormData()\n    formData.append('id', id)\n    formData.append('_method', 'delete')\n\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Scoped-CSRF-Token': this.#deleteCSRF,\n      },\n      body: formData,\n    })\n    if (response.ok) {\n      const scopes = await this.#fetchScopes()\n      this.setScopes(scopes)\n    }\n\n    this.#cache?.clear()\n    this.setMode('manage')\n  }\n\n  setScopes(scopes: CustomScope[]) {\n    this.hasScopes = scopes.length > 0\n    const renderedSections = scopes.map(\n      s => html`\n        <div class=\"d-flex py-1\">\n          <div>\n            <div class=\"text-bold\">${s.name}</div>\n            <div class=\"text-small color-fg-muted\">${s.query}</div>\n          </div>\n          <div class=\"flex-1\"></div>\n          <button\n            type=\"button\"\n            class=\"btn btn-octicon\"\n            data-action=\"click:qbsearch-input#editCustomScope\"\n            data-id=\"${s.id}\"\n            aria-label=\"Edit saved search\"\n          >\n            ${PencilIcon()}\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-octicon btn-danger\"\n            data-action=\"click:custom-scopes#deleteCustomScope\"\n            data-id=\"${s.id}\"\n            aria-label=\"Delete saved search\"\n          >\n            ${TrashIcon()}\n          </button>\n        </div>\n      `,\n    )\n    render(html`${renderedSections}`, this.list)\n  }\n}\n","const mem = new Map();\nexport function parse(text) {\n    if (mem.has(text))\n        return mem.get(text);\n    const length = text.length;\n    let lastPos = 0;\n    let tokenStart = 0;\n    let open = 0;\n    const items = [];\n    for (let i = 0; i < length; i += 1) {\n        const char = text[i];\n        const lookAhead = text[i + 1];\n        const lookBehind = text[i - 1];\n        if (char === '{' && lookAhead === '{' && lookBehind !== '\\\\') {\n            open += 1;\n            if (open === 1)\n                tokenStart = i;\n            i += 1;\n        }\n        else if (char === '}' && lookAhead === '}' && lookBehind !== '\\\\' && open) {\n            open -= 1;\n            if (open === 0) {\n                if (tokenStart > lastPos) {\n                    items.push(Object.freeze({\n                        type: 'string',\n                        start: lastPos,\n                        end: tokenStart,\n                        value: text.slice(lastPos, tokenStart)\n                    }));\n                    lastPos = tokenStart;\n                }\n                items.push(Object.freeze({\n                    type: 'part',\n                    start: tokenStart,\n                    end: i + 2,\n                    value: text.slice(lastPos + 2, i).trim()\n                }));\n                i += 1;\n                lastPos = i + 1;\n            }\n        }\n    }\n    if (lastPos < length)\n        items.push(Object.freeze({ type: 'string', start: lastPos, end: length, value: text.slice(lastPos, length) }));\n    mem.set(text, Object.freeze(items));\n    return mem.get(text);\n}\n//# sourceMappingURL=template-string-parser.js.map","const setters = new WeakMap();\nconst values = new WeakMap();\nexport class AttributeTemplatePart {\n    constructor(setter, expression) {\n        this.expression = expression;\n        setters.set(this, setter);\n        setter.updateParent('');\n    }\n    get attributeName() {\n        return setters.get(this).attr.name;\n    }\n    get attributeNamespace() {\n        return setters.get(this).attr.namespaceURI;\n    }\n    get value() {\n        return values.get(this);\n    }\n    set value(value) {\n        values.set(this, value || '');\n        setters.get(this).updateParent(value);\n    }\n    get element() {\n        return setters.get(this).element;\n    }\n    get booleanValue() {\n        return setters.get(this).booleanValue;\n    }\n    set booleanValue(value) {\n        setters.get(this).booleanValue = value;\n    }\n}\nexport class AttributeValueSetter {\n    constructor(element, attr) {\n        this.element = element;\n        this.attr = attr;\n        this.partList = [];\n    }\n    get booleanValue() {\n        return this.element.hasAttributeNS(this.attr.namespaceURI, this.attr.name);\n    }\n    set booleanValue(value) {\n        if (this.partList.length !== 1) {\n            throw new DOMException('Operation not supported', 'NotSupportedError');\n        }\n        ;\n        this.partList[0].value = value ? '' : null;\n    }\n    append(part) {\n        this.partList.push(part);\n    }\n    updateParent(partValue) {\n        if (this.partList.length === 1 && partValue === null) {\n            this.element.removeAttributeNS(this.attr.namespaceURI, this.attr.name);\n        }\n        else {\n            const str = this.partList.map(s => (typeof s === 'string' ? s : s.value)).join('');\n            this.element.setAttributeNS(this.attr.namespaceURI, this.attr.name, str);\n        }\n    }\n}\n//# sourceMappingURL=attribute-template-part.js.map","const parts = new WeakMap();\nexport class NodeTemplatePart {\n    constructor(node, expression) {\n        this.expression = expression;\n        parts.set(this, [node]);\n        node.textContent = '';\n    }\n    get value() {\n        return parts\n            .get(this)\n            .map(node => node.textContent)\n            .join('');\n    }\n    set value(string) {\n        this.replace(string);\n    }\n    get previousSibling() {\n        return parts.get(this)[0].previousSibling;\n    }\n    get nextSibling() {\n        return parts.get(this)[parts.get(this).length - 1].nextSibling;\n    }\n    replace(...nodes) {\n        const normalisedNodes = nodes.map(node => {\n            if (typeof node === 'string')\n                return new Text(node);\n            return node;\n        });\n        if (!normalisedNodes.length)\n            normalisedNodes.push(new Text(''));\n        parts.get(this)[0].before(...normalisedNodes);\n        for (const part of parts.get(this))\n            part.remove();\n        parts.set(this, normalisedNodes);\n    }\n}\n//# sourceMappingURL=node-template-part.js.map","import { AttributeTemplatePart } from './attribute-template-part.js';\nexport function createProcessor(processPart) {\n    return {\n        processCallback(_, parts, params) {\n            var _a;\n            if (typeof params !== 'object' || !params)\n                return;\n            for (const part of parts) {\n                if (part.expression in params) {\n                    const value = (_a = params[part.expression]) !== null && _a !== void 0 ? _a : '';\n                    processPart(part, value);\n                }\n            }\n        }\n    };\n}\nexport function processPropertyIdentity(part, value) {\n    part.value = String(value);\n}\nexport function processBooleanAttribute(part, value) {\n    if (typeof value === 'boolean' &&\n        part instanceof AttributeTemplatePart &&\n        typeof part.element[part.attributeName] === 'boolean') {\n        part.booleanValue = value;\n        return true;\n    }\n    return false;\n}\nexport const propertyIdentity = createProcessor(processPropertyIdentity);\nexport const propertyIdentityOrBooleanAttribute = createProcessor((part, value) => {\n    processBooleanAttribute(part, value) || processPropertyIdentity(part, value);\n});\n//# sourceMappingURL=processors.js.map","import { parse } from './template-string-parser.js';\nimport { AttributeValueSetter, AttributeTemplatePart } from './attribute-template-part.js';\nimport { NodeTemplatePart } from './node-template-part.js';\nimport { propertyIdentity } from './processors.js';\nfunction* collectParts(el) {\n    const walker = el.ownerDocument.createTreeWalker(el, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, null, false);\n    let node;\n    while ((node = walker.nextNode())) {\n        if (node instanceof Element && node.hasAttributes()) {\n            for (let i = 0; i < node.attributes.length; i += 1) {\n                const attr = node.attributes.item(i);\n                if (attr && attr.value.includes('{{')) {\n                    const valueSetter = new AttributeValueSetter(node, attr);\n                    for (const token of parse(attr.value)) {\n                        if (token.type === 'string') {\n                            valueSetter.append(token.value);\n                        }\n                        else {\n                            const part = new AttributeTemplatePart(valueSetter, token.value);\n                            valueSetter.append(part);\n                            yield part;\n                        }\n                    }\n                }\n            }\n        }\n        else if (node instanceof Text && node.textContent && node.textContent.includes('{{')) {\n            const parsed = parse(node.textContent);\n            // A for..of loop would be nicer here, unfortunately Safari had a runtime error on this loop.\n            // https://github.com/github/template-parts/pull/55\n            for (let i = 0; i < parsed.length; i += 1) {\n                const token = parsed[i];\n                if (token.end < node.textContent.length)\n                    node.splitText(token.end);\n                if (token.type === 'part')\n                    yield new NodeTemplatePart(node, token.value);\n                break;\n            }\n        }\n    }\n}\nconst processors = new WeakMap();\nconst parts = new WeakMap();\nexport class TemplateInstance extends DocumentFragment {\n    constructor(template, params, processor = propertyIdentity) {\n        var _a, _b;\n        super();\n        // This is to fix an inconsistency in Safari which prevents us from\n        // correctly sub-classing DocumentFragment.\n        // https://bugs.webkit.org/show_bug.cgi?id=195556\n        if (Object.getPrototypeOf(this) !== TemplateInstance.prototype) {\n            Object.setPrototypeOf(this, TemplateInstance.prototype);\n        }\n        this.appendChild(template.content.cloneNode(true));\n        parts.set(this, Array.from(collectParts(this)));\n        processors.set(this, processor);\n        (_b = (_a = processors.get(this)).createCallback) === null || _b === void 0 ? void 0 : _b.call(_a, this, parts.get(this), params);\n        processors.get(this).processCallback(this, parts.get(this), params);\n    }\n    update(params) {\n        processors.get(this).processCallback(this, parts.get(this), params);\n    }\n}\n//# sourceMappingURL=template-instance.js.map","import { TemplateInstance, NodeTemplatePart } from '@github/template-parts';\nconst templates = new WeakMap();\nconst renderedTemplates = new WeakMap();\nconst renderedTemplateInstances = new WeakMap();\nexport class TemplateResult {\n    constructor(strings, values, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.processor = processor;\n    }\n    static setCSPTrustedTypesPolicy(policy) {\n        TemplateResult.cspTrustedTypesPolicy = policy;\n    }\n    get template() {\n        var _a, _b;\n        if (templates.has(this.strings)) {\n            return templates.get(this.strings);\n        }\n        else {\n            const template = document.createElement('template');\n            const end = this.strings.length - 1;\n            const html = this.strings.reduce((str, cur, i) => str + cur + (i < end ? `{{ ${i} }}` : ''), '');\n            const trustedHtml = (_b = (_a = TemplateResult.cspTrustedTypesPolicy) === null || _a === void 0 ? void 0 : _a.createHTML(html)) !== null && _b !== void 0 ? _b : html;\n            template.innerHTML = trustedHtml;\n            templates.set(this.strings, template);\n            return template;\n        }\n    }\n    renderInto(element) {\n        const template = this.template;\n        if (renderedTemplates.get(element) !== template) {\n            renderedTemplates.set(element, template);\n            const instance = new TemplateInstance(template, this.values, this.processor);\n            renderedTemplateInstances.set(element, instance);\n            if (element instanceof NodeTemplatePart) {\n                element.replace(...instance.children);\n            }\n            else {\n                element.appendChild(instance);\n            }\n            return;\n        }\n        renderedTemplateInstances.get(element).update(this.values);\n    }\n}\nTemplateResult.cspTrustedTypesPolicy = null;\n//# sourceMappingURL=template-result.js.map","export function render(result, element) {\n    result.renderInto(element);\n}\n//# sourceMappingURL=render.js.map","const directives = new WeakSet();\nexport function isDirective(directiveCallback) {\n    return directives.has(directiveCallback);\n}\nexport function processDirective(part, value) {\n    if (isDirective(value)) {\n        value(part);\n        return true;\n    }\n    return false;\n}\nexport function directive(directiveFactory) {\n    return (...values) => {\n        const callback = directiveFactory(...values);\n        directives.add(callback);\n        return callback;\n    };\n}\n//# sourceMappingURL=directive.js.map","import { AttributeTemplatePart } from '@github/template-parts';\nconst eventListeners = new WeakMap();\nclass EventHandler {\n    constructor(element, type) {\n        this.element = element;\n        this.type = type;\n        this.element.addEventListener(this.type, this);\n        eventListeners.get(this.element).set(this.type, this);\n    }\n    set(listener) {\n        if (typeof listener == 'function') {\n            this.handleEvent = listener.bind(this.element);\n        }\n        else if (typeof listener === 'object' && typeof listener.handleEvent === 'function') {\n            this.handleEvent = listener.handleEvent.bind(listener);\n        }\n        else {\n            this.element.removeEventListener(this.type, this);\n            eventListeners.get(this.element).delete(this.type);\n        }\n    }\n    static for(part) {\n        if (!eventListeners.has(part.element))\n            eventListeners.set(part.element, new Map());\n        const type = part.attributeName.slice(2);\n        const elementListeners = eventListeners.get(part.element);\n        if (elementListeners.has(type))\n            return elementListeners.get(type);\n        return new EventHandler(part.element, type);\n    }\n}\nexport function processEvent(part, value) {\n    if (part instanceof AttributeTemplatePart && part.attributeName.startsWith('on')) {\n        EventHandler.for(part).set(value);\n        part.element.removeAttributeNS(part.attributeNamespace, part.attributeName);\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=events.js.map","import { createProcessor, processPropertyIdentity, processBooleanAttribute } from '@github/template-parts';\nimport { processDirective } from './directive.js';\nimport { processEvent } from './events.js';\nimport { processIterable } from './iterable.js';\nimport { processDocumentFragment } from './document-fragment.js';\nimport { processSubTemplate } from './sub-template.js';\nexport function processPart(part, value) {\n    processDirective(part, value) ||\n        processBooleanAttribute(part, value) ||\n        processEvent(part, value) ||\n        processSubTemplate(part, value) ||\n        processDocumentFragment(part, value) ||\n        processIterable(part, value) ||\n        processPropertyIdentity(part, value);\n}\nexport const processor = createProcessor(processPart);\n//# sourceMappingURL=processor.js.map","import { NodeTemplatePart } from '@github/template-parts';\nimport { TemplateResult } from './template-result.js';\nexport function processSubTemplate(part, value) {\n    if (value instanceof TemplateResult && part instanceof NodeTemplatePart) {\n        value.renderInto(part);\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=sub-template.js.map","import { NodeTemplatePart } from '@github/template-parts';\nexport function processDocumentFragment(part, value) {\n    if (value instanceof DocumentFragment && part instanceof NodeTemplatePart) {\n        if (value.childNodes.length)\n            part.replace(...value.childNodes);\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=document-fragment.js.map","import { TemplateResult } from './template-result.js';\nimport { NodeTemplatePart } from '@github/template-parts';\nfunction isIterable(value) {\n    return typeof value === 'object' && Symbol.iterator in value;\n}\nexport function processIterable(part, value) {\n    if (!isIterable(value))\n        return false;\n    if (part instanceof NodeTemplatePart) {\n        const nodes = [];\n        for (const item of value) {\n            if (item instanceof TemplateResult) {\n                const fragment = document.createDocumentFragment();\n                item.renderInto(fragment);\n                nodes.push(...fragment.childNodes);\n            }\n            else if (item instanceof DocumentFragment) {\n                nodes.push(...item.childNodes);\n            }\n            else {\n                nodes.push(String(item));\n            }\n        }\n        if (nodes.length)\n            part.replace(...nodes);\n        return true;\n    }\n    else {\n        part.value = Array.from(value).join(' ');\n        return true;\n    }\n}\n//# sourceMappingURL=iterable.js.map","import { processor } from './processor.js';\nimport { TemplateResult } from './template-result.js';\nexport function html(strings, ...values) {\n    return new TemplateResult(strings, values, processor);\n}\n//# sourceMappingURL=html.js.map","import { processPart } from './processor.js';\nimport { directive } from './directive.js';\nconst untils = new WeakMap();\nexport const until = directive((...promises) => (part) => {\n    if (!untils.has(part))\n        untils.set(part, { i: promises.length });\n    const state = untils.get(part);\n    for (let i = 0; i < promises.length; i += 1) {\n        if (promises[i] instanceof Promise) {\n            // eslint-disable-next-line github/no-then\n            Promise.resolve(promises[i]).then(value => {\n                if (i < state.i) {\n                    state.i = i;\n                    processPart(part, value);\n                }\n            });\n        }\n        else if (i <= state.i) {\n            state.i = i;\n            processPart(part, promises[i]);\n        }\n    }\n});\n//# sourceMappingURL=until.js.map","import { directive } from './directive.js';\nimport { NodeTemplatePart } from '@github/template-parts';\nimport { TemplateResult } from './template-result.js';\nexport const unsafeHTML = directive((value) => (part) => {\n    var _a, _b;\n    if (!(part instanceof NodeTemplatePart))\n        return;\n    const template = document.createElement('template');\n    const trustedValue = (_b = (_a = TemplateResult.cspTrustedTypesPolicy) === null || _a === void 0 ? void 0 : _a.createHTML(value)) !== null && _b !== void 0 ? _b : value;\n    template.innerHTML = trustedValue;\n    const fragment = document.importNode(template.content, true);\n    part.replace(...fragment.childNodes);\n});\n//# sourceMappingURL=unsafe-html.js.map"],"names":["CustomScopesElement","HTMLElement","connectedCallback","parseInt","getAttribute","initialize","cache","fetch","customScopesUrlPath","deleteCSRF","mode","createCustomScopeForm","hidden","customScopesSubmit","event","create","saveCustomScope","customScopesCancel","hasScopes","setMode","customScopesModalDialog","close","manageCustomScopesForm","preventDefault","form","target","checkValidity","reportValidity","response","action","method","body","FormData","ok","clear","scopes","setScopes","reset","show","HTMLDialogElement","showModal","openCustomScopesDialog","stopPropagation","editCustomScope","id","closest","customScope","customScopesIdField","value","customScopesNameField","name","customScopesQueryField","query","deleteCustomScope","url","formData","append","headers","length","renderedSections","map","s","html","PencilIcon","icon","document","getElementById","innerHTML","TrashIcon","render","list","Promise","resolve","title","button","customScopesSubmitButton","textContent","getElementsByTagName","isNewScope","atCustomScopesMax","len","customScopesModalDialogFlash","disabled","get","undefined","find","scope","toString","mem","Map","parse","text","has","lastPos","tokenStart","open","items","i","char","lookAhead","lookBehind","push","Object","freeze","type","start","end","slice","trim","set","setters","WeakMap","values","AttributeTemplatePart","constructor","setter","expression","updateParent","attributeName","attr","attributeNamespace","namespaceURI","element","booleanValue","AttributeValueSetter","partList","hasAttributeNS","DOMException","part","partValue","removeAttributeNS","str","join","setAttributeNS","parts","NodeTemplatePart","node","string","replace","previousSibling","nextSibling","nodes","normalisedNodes","Text","before","remove","createProcessor","processPart","processCallback","_","params","_a","processPropertyIdentity","String","processBooleanAttribute","propertyIdentity","processors","TemplateInstance","DocumentFragment","template","processor","_b","getPrototypeOf","prototype","setPrototypeOf","appendChild","content","cloneNode","Array","from","collectParts","el","walker","ownerDocument","createTreeWalker","NodeFilter","SHOW_TEXT","SHOW_ELEMENT","nextNode","Element","hasAttributes","attributes","item","includes","valueSetter","token","parsed","splitText","createCallback","call","update","templates","renderedTemplates","renderedTemplateInstances","TemplateResult","strings","setCSPTrustedTypesPolicy","policy","cspTrustedTypesPolicy","createElement","reduce","cur","trustedHtml","createHTML","renderInto","instance","children","result","directives","WeakSet","directive","directiveFactory","callback","add","eventListeners","EventHandler","addEventListener","listener","handleEvent","bind","removeEventListener","delete","for","elementListeners","processDirective","startsWith","childNodes","processIterable","Symbol","iterator","fragment","createDocumentFragment","untils","promises","state","then","unsafeHTML","trustedValue","importNode"],"sourceRoot":""}